<!DOCTYPE html><html lang="en-US" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Clareza e produtividade na gestão do Firewall Aker 6.1" /><meta name="author" content="Helvio Junior (m4v3r1ck)" /><meta property="og:locale" content="en_US" /><meta name="description" content="Este post é a publicação do meu trabalho de conclusão de curso de Especialização em Redes e Segurança de Sistemas realizado na Pontifícia Universidade Católica do Paraná em março de 2010 Este estudo objetiva demonstrar o ganho de produtividade e clareza na gestão da segurança periférica corporativa, utilizando o Aker Firewall. A motivação inicial deste estudo baseia-se na dificuldade de se encontrar um padrão metodológico de implementação dos recursos de segurança periférica em produtos Linux e de se ter o nível técnico e o tempo necessários para a gestão dessas atividades. 1.      Conceitos relacionados 1.1. A segurança da informação Quando se fala em segurança de informação, é imprescindível entender, primeiramente, o que é informação e qual a sua importância para a empresa. A definição desse termo nem sempre é a mesma nas diversas áreas de trabalho, mas há semelhanças que são difundidas. Uma delas, é a figura a seguir intitulada “pirâmide do conhecimento”: Figura1: Pirâmide do conhecimento Nessa representação, baseada na pirâmide de DUSSIN E FERRO (2009), ―dado‖ seria “como uma seqüência de símbolos quantificados ou quantificáveis. Nesse sentido, um texto contendo letras, que são símbolos de um conjunto finito que é o alfabeto, pode constituir-se de uma base numérica e portanto é um dado. Também são dados, as fotos, as figuras, os sons gravados, pois todos podem ser quantificados.” SETZER (2002, p.1) De acordo com CHIAVENATO (1999, p. 366), a “informação é um conjunto de dados com um significado, ou seja, que reduz a incerteza ou que aumenta o conhecimento a respeito de algo”. Já o “conhecimento”, como definido por DAVENPORT (1998, p.19), “é a informação mais valiosa. É valiosa precisamente porque alguém deu à informação um contexto, um significado, uma interpretação”. A partir dessa definição, CAMPOS (2006, p. 3) afirma ainda que “a informação possui significado e causa impacto em grau menor ou maior, tornando-a o elemento essencial da extração e criação do conhecimento”. Dessa forma, o conhecimento pode ser considerado como a informação processada pelos indivíduos, ou seja, ele é adquirido pela utilização da informação na ação humana. Portanto, a informação é de grande importância para a geração do conhecimento. Nesse viés, CAMPOS (2006, p.4) define a informação como um valor para o negócio devido a sua importância nas tomada de decisões, estando ligada diretamente à geração de lucro. Tornando-se, assim, um bem, um ativo da organização, e como tal devendo ser protegido e preservado. Nesse escopo de proteção e preservação da informação, é importante definir e entender qual o significado de um sistema de segurança (proteção) da informação e quais são seus pilares e princípios que norteiam a implementação dessa prática. A norma NBR ISO/IEC 27002/2005 conceitua a segurança da informação como sendo a “preservação da confidencialidade, da integridade e da disponibilidade da informação”. Conforme ilustrado na figura 2, a segurança da informação está baseada em três pilares: 1) confidencialidade, 2) integridade, 3) disponibilidade. Essa norma afirma ainda que “adicionalmente, outras propriedades, tais como autenticidade, responsabilidade, não repúdio e confiabilidade, podem também estar envolvidas”. Figura 2: Pilares da segurança da informação Dessa forma, ao se quebrar um desses pilares, ocorre a quebra da segurança da informação ou, também chamada, incidente de segurança da informação. Para se obter um entendimento melhor desses pilares e as outras propriedades propostas pela NBR ISO/IEC 27002/2005, será utilizada a definição de SÊMOLA (2003, p. 45), de NBR ISO/IEC 27002/2005 e de ISO/IEC 13335-1:2004. Confidencialidade: toda informação deve ser protegida de acordo com o grau de sigilo de seu conteúdo, visando a limitação de seu acesso e uso apenas às pessoas para quem elas são destinadas. Integridade: toda informação deve ser mantida na mesma condição em que foi disponibilizada pelo seu proprietário, visando protegê-las contra alterações indevidas, intencionais ou acidentais. Disponibilidade: toda informação gerada ou adquirida por um indivíduo ou instituição deve estar disponível aos seus usuários no momento em que os mesmos dela necessitarem para qualquer finalidade. Autenticidade: a garantia de que o usuário, objeto ou recurso é quem diz ser. Responsabilidade: a capacidade de responsabilização de um usuário pelos atos cometidos. Não repúdio: garantia de uma ação, evento ou informação não poderá ser negada pelo seu autor. Confiabilidade: garantia de tolerância a falhas de um sistema de informação. No contexto de segurança de informação, há vulnerabilidades, que são fraquezas presentes nos ativos[1] de informação e que podem causar, intencionalmente ou não, a quebra de um ou mais dos três princípios de segurança da informação. (CAMPOS, 2006, p. 9). Podem-se relacionar as vulnerabilidades aos seguintes ativos de informação[2]: Tecnologias: Computadores sem proteção contra vírus, spywares e worms; Switches não protegidos com senha ou protegidos com a senha padrão de fábrica; Rede local acessível por senha padrão ou pública; Sistema de informação sem controle de acesso lógico; Acesso não controlado a recursos computacionais externos a rede corporativa (tendo como origem um equipamento interno). Pessoas e processos: A ausência de uma política institucional de segurança da informação dentro da organização; A inexistência de regulamentação para acesso à informação da organização por terceiros e prestadores de serviço; A ausência de procedimentos disciplinares para o tratamento das violações da política de segurança da informação; A ausência de regulamentação explícita quanto aos cuidados com a informação, do que é permitido ou não, tais como os procedimentos de compra ou desenvolvimento de sistemas de informação, a gestão das cópias de segurança, controle de versão e software, proteção contra softwares maliciosos, gerenciamento da rede local de computadores, gestão das mídias de armazenamento, uso do correio eletrônico, acesso à Internet, entre outros. Observa-se por essa breve relação que a segurança da informação não se limita no âmbito de informática, mas envolve toda a corporação. 1.2. Produtividade e clareza 1.2.1. Produtividade A produtividade tem se tornado fator diferencial entre o manter-se no mercado ou sucumbir. MACEDO (2002, p. 1) afirma que: “Atualmente, sem produtividade ou sem a eficiência do processo produtivo, dificilmente uma empresa vai ser bem-sucedida ou até mesmo sobreviver no mercado. Dado o acirramento da concorrência, a gestão da produtividade está se tornando um dos quesitos essenciais na formulação das estratégias de competitividade das empresas”. Um aumento de produtividade pode ser alcançado de várias maneiras, PARKINSON (2004, p. 1) listou 5 abordagens que podem ser aplicadas para o incremento de produtividade: Eliminar trabalho desnecessário; Eliminar retrabalho desnecessário; Reduzir a duração do esforço; Automatizar tudo que for possível; e Gerenciar a demanda. A Tecnologia da informação (doravante, TI) tem se mostrado uma importante ferramenta para o aumento de produtividade, inclusive englobando as 5 abordagens apontadas por PARKINSON. 1.2.2. Clareza Segundo o dicionário MICHAELIS (2009), clareza é “qualidade do que é claro ou inteligível”, “qualidade do que se percebe bem” e ainda “limpidez, transparência”. 1.3. Protocolo de comunicação O dicionário MICHAELIS (2009) conceitua protocolo como sendo o “conjunto de parâmetros que define como a transferência da informação vai ser controlada”. No entanto, antes de adentrarmos em detalhamentos técnicos dos protocolos de comunicação, observaremos a teoria básica da comunicação, conforme definida por JAKOBSON (2001, p. 14): “A teoria da comunicação parece-me uma boa escola para a Lingüística estrutural, assim como a Lingüística estrutural é uma escola útil para os engenheiros de comunicações. Penso que a realidade fundamental com que se tem de haver o lingüista é a interlocução — a troca de mensagens entre emissor e receptor, entre remetente e destinatário, entre codificador e decodificador”. JAKOBSON (2001) sugere, então, o seguinte esquema: Figura 3: Teoria da comunicação Observa-se na figura que toda comunicação é composta de uma fonte de dados que gera os dados de uma forma padrão, ou seja, em uma codificação, o emissor envia a mensagem ao receptor, que encaminha ao alvo (destino), que consegue interpretar estes dados por conhecer a codificação. Esta teoria aplica-se de forma geral a todas as metodologias de comunicação existentes e na informática isso não é diferente. Para que haja comunicação entre dois ou mais computadores é necessário um código de comunicação, aqui chamado protocolo de comunicação. O protocolo de comunicação mais utilizado em todo o mundo é o TCP/IP (Transfer Control Protocol / Internet Protocol). 1.3.1. TCP/IP “O conjunto de protocolos TCP/IP foi desenvolvido como parte da pesquisa feita pela Defense Advanced Research Projects Agency (DARPA). Ele foi originalmente desenvolvido para fornecer comunicação através da DARPA. Posteriormente, o TCP/IP foi incluído com o Berkeley Software Distribution da UNIX. Agora, o TCP/IP é de fato o padrão das comunicações de internetworks e serve como protocolo de transporte para a Internet, permitindo a comunicação de milhares de computadores no mundo todo” (CISCO, 2000). “A função da pilha, ou conjunto, TCP/IP é transferir informações de um dispositivo em rede para outro. Ao fazer isso, ela mapeia cuidadosamente o modelo de referência TCP/IP nas camadas inferiores e suporta todos os protocolos padrão físicos e de enlace de dados” (CISCO, 2000). “As camadas mais afetadas pelo conjunto TCP/IP são a camada 4 (aplicação), a camada 3 (transporte) e a camada 2 (rede). Outros tipos de protocolos, com várias finalidades/funções, todas relativas à transferência de informações, estão incluídos nessas camadas” (CISCO, 2000). Figura 4: Modelo TCP/IP O modelo TCP/IP é divido em camadas de forma a estar em conformidade com o modelo OSI. O Modelo em camadas é um modelo que efetua a separação teórico/prática da função e concorrência dos diversos protocolos. Basicamente, protocolos contidos em mesma camada são concorrentes, ou seja, não podem aparecer concomitantemente no mesmo pacote de comunicação. Já os protocolos de camadas distintas são complementares, devendo aparecer no mesmo pacote de comunicação. De forma simplificada e omitindo alguns campos para uma melhor compreensão, a figura 5 demonstra os campos de um pacote TCP/IP separado por camadas, bem como a ordem de empacotamento na pilha TCP/IP. Figura 5: Sequenciamento de empacotamento TCP/IP Para um melhor entendimento, a tabela abaixo demonstra alguns exemplos de protocolos em cada uma das camadas. Camada Protocolo Aplicação DNS, POP3, SMTP, SNMP, HTTP, HTTPS, FTP, TELNET e MSN Transporte TCP e UDP Rede IP, ICMP e ARP Física MAC Address, Ethernet e Frame Relay Tabela 1: Exemplos de protocolos por camada TCP/IP 1.4. Firewall Segundo CHESWICK e BELLOVIN apud NAKAMURA e GEUS (2003, p. 206), firewall é um ponto entre duas ou mais redes no qual circula todo o tráfego. A partir desse único ponto, é possível controlar e autenticar o tráfego. Já CHAPMAN apud NAKAMURA e GEUS (2003, p. 206) define firewall como sendo um componente ou conjunto de componentes que restringe o acesso entre uma rede protegida e a internet ou entre outros conjuntos de redes. Partindo dessas duas definições, observa-se que o firewall é o principal equipamento de ligação e controle entre duas ou mais redes, por onde passa todo o tráfego delas. Um sistema de firewall é composto por vários componentes sendo que cada qual desempenha uma funcionalidade, conforme listado e demonstrado por NAKAMURA e GEUS (2003, p. 208). As quatro primeiras funcionalidades seriam os filtros, proxies, bastion hosts e zonas desmilitarizadas. Porém, com a evolução das necessidades de segurança, foram inseridas ainda neste contexto o Network Address Translation  - NAT, a Rede privada Virtual  - VPN e a autenticação/certificação. Para se manter de acordo com o objetivo deste estudo, somente os itens filtros e proxies serão detalhados. 1.4.1 Filtros Os filtros são responsáveis por efetuar o controle de pacotes que entram e saem do firewall, na maioria das vezes efetuando o roteamento dos mesmos. O filtro geralmente efetua a análise atuando na camada de rede e de transporte do modelo TCP/IP comparando os dados do cabeçalho do pacote, tais como endereço de origem, endereço de destino, porta de origem, porta de destino, flags e protocolo, com um conjunto de regras estáticas. Segundo NAKAMURA e GEUS (2003, p. 215), esse tipo de firewall é conhecido como static packet filtering. Porém, esse tipo de filtragem é vulnerável a diversos tipos de ataques e não se torna compatível com alguns protocolos de camada de aplicação como FTP, RPC e H.323, pois esses utilizam dois ou mais canais de comunicação ou portas dinâmicas (NAKAMURA e GEUS, 2003, p. 215). Visando solucionar esses e outros problemas e prover uma filtragem mais efetiva e dinâmica, aumentando desta forma a segurança, a Check Point criou o conceito Stateful Inspection[3]. Stateful inspection (também conhecido como dynamic packet filtering) toma as decisões de filtragem tendo como referência os seguintes elementos: As informações dos cabeçalhos dos pacotes, igual o static packet filtering; Informações recuperadas, armazenadas e manipuladas de todas as camadas do modelo TCP/IP da comunicação corrente ou de outras comunicações. Como por exemplo, o comando de porta de saída de uma sessão FTP; Informações provenientes de outros aplicativos, como por exemplo, um usuário autenticado tendo acesso a serviços autorizados; 1.4.2. Caching Antes de falar em proxies é importante se falar em caching, pois muitos autores erroneamente definem Proxy como sendo igual à cache que, no entanto, são serviços distintos. Segundo WESSELS (2001, p. 1), o termo cache é um termo francês que significa, literalmente, armazenar. Ao se tratar de tecnologia da informação, caching se refere ao armazenamento de informações recentemente recuperadas para futura referência e utilização. As informações podem ou não serem utilizadas novamente, fazendo com que o cache seja benéfico somente quando o custo computacional de armazenar a informação for inferior ao custo de recuperar ou calcular as informações novamente. Atualmente, o caching é utilizado em várias áreas dentro da computação, como em processadores, sistemas operacionais e outros. Já os serviços para a internet que atualmente mais se utilizam de cache são o HTTP e DNS. 1.4.3. Proxies Proxies são aplicativos que realizam filtragens mais apuradas em camada de aplicação. Por trabalhar em camada de aplicação, é exigido um código (aplicativo) para cada serviço a ser filtrado. Atualmente, há basicamente dois tipos de proxies, o ativo e o transparente. A principal distinção entre eles é que o ativo necessita de uma personalização dos aplicativos clientes para que se efetue a solicitação do serviço desejado ao proxy e o transparente não precisa da personalização, pois o cliente efetua a solicitação de serviço diretamente ao servidor final e é o firewall que redireciona a solicitação do cliente para o proxy. Em ambos, porém, é o servidor de proxy que efetua a requisição ao servidor final e retorna o resultado ao cliente. Alguns serviços de proxy existentes no mercado implementam a funcionalidade de caching como é o exemplo do Squid e o Microsoft Isa Server. 2. Estudo de caso: Aker Firewall x Ferramentas OpenSource (Linux) 2.1. Por que esses produtos? 2.1.1. Linux A escolha do Linux para este estudo se deve ao fato desse sistema se constituir em um dos sistemas operacionais mais utilizados para servidores em geral. A distribuição do Linux escolhida para este estudo foi a da Fedora em sua versão 8. A escolha dessa distribuição e versão se baseia na familiaridade do pesquisador. 2.1.2. Aker Firewall A escolha desse produto foi feita devido ao fato de ser um produto 100% nacional, com qualidade e robustez que o coloca na mesma categoria que os melhores produtos deste ramo no mercado, como Firewall 1 da Checkpoint. A versão escolhida para este estudo foi a 6.1, por ser a versão comercializada no período deste estudo. 2.2. Escopo deste estudo Este estudo limitar-se-á em comparar as metodologias de implementação de algumas funcionalidades do Aker Firewall com produtos que implementam as mesmas funcionalidades no Linux, tendo como premissa a disponibilidade de somente um hardware para a implementação de cada produto, sem a utilização de máquinas virtuais para aproveitamento do mesmo hardware. Este estudo não tem a pretensão de exaurir todos os recursos dos dois produtos. Neste, será demonstrada a configuração passo-a-passo para implementação de cada funcionalidade nos produtos, demonstrando telas e arquivos de configuração quando necessários. As funcionalidades comparadas neste estudo são: Regras de filtragem na camada de transporte; Implementação de QoS; Criação de filtros personalizados em camada de aplicação. 2.3. Ambiente A figura 6 apresenta o detalhamento do ambiente montado para as comparações técnicas. Figura 6: Ambiente técnico de implementação 2.4. Comparação de funcionalidades 2.4.1. Regras de filtragem na camada de transporte Para esta comparação, serão criadas 3 regras em cada um dos firewalls: Liberação da rede interna para acessar HTTP e HTTPS tendo como destino qualquer faixa de IP; Liberação da rede interna para acessar DNS e MSN tendo como destino qualquer faixa de IP; Bloqueia o restante dos pacotes. Serviço Porta Protocolo HTTP 80 TCP HTTPS 443 TCP DNS 53 UDP MSN 1863 TCP Tabela 2: Descrição de serviços x porta e protocolo Aker Firewall O Aker é um produto orientado a objetos, por isso para poder criar qualquer regra, se faz necessário criar os objetos que fazem a representação do mundo real para o produto, os quais são chamados de entidade. A figura 7 mostra quais os tipos de entidades aceitas no produto. Figura 7: Lista de tipos de entidade Para a criação das regras solicitadas, será necessário criar 6 etidades que serão demonstradas na figura 8. 1) Rede interna, 2) internet, 3) HTTP, 4) HTTPS, 5) DNS, 6) MSN Messenger. Figura 8: Entidades criadas para as regras desta comparação Após a criação das entidades, basta criar as regras, conforme demonstrado na figura 9. Observa-se que o item 3 desta comparação, “bloqueio do restante dos pacotes”, não foi criado. Isso se deve ao fato de que, por padrão, o firewall Aker descarta todos os pacotes, considerando apenas as regras criadas. Observa-se também que não há a necessidade de criar regras de retorno dos pacotes, pois o Aker é stateful inspection. Figura 9: Regras de filtragem aplicadas no Aker Firewall Linux Para a criação das regras, foi utilizado o aplicativo IPTABLES que vem habilitado por padrão na distribuição escolhida. Para facilitar a aplicação das regras, serão criadas todas em um arquivo Shell. Dessa forma, a primeira linha do arquivo em questão será “#!/bin/sh”. Logo após esta linha, serão colocados os comandos IPTABLES. O primeiro comando iptables a ser aplicado efetua a limpeza de todas as regras a fim de evitar que regras antigas ou aplicadas por outros scripts possam influenciar neste equipamento. O comando de limpeza é “iptables --flush”. Após a limpeza de todas as regras, faz-se necessário definir a regra padrão do IPTABLES, as quais serão definidas com os comandos “iptables -P INPUT DROP”, “iptables -P OUTPUT DROP” e “iptables -P FORWARD DROP”. As regras de bloqueio estão definidas, sendo necessário começar, então, a criar as regras de liberação. As primeiras regras de liberação que serão criadas são as que permitem os pacotes de conexões pré-estabelecidas. Em seguida, será criada a regra que libera todos os pacotes em loopback. As regras são: “iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT”, “iptables -A OUTPUT -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT”, “iptables -A FORWARD -m state --state ESTABLISHED,RELATED -j ACCEPT” e “iptables -A INPUT -i lo -j ACCEPT”. Antes de criar as regras específicas solicitadas pela atividade será adicionado um comando para habilitar no kernel do Linux o encaminhamento de pacotes, para que este faça a funcionalidade de roteador “echo 1 &gt; /proc/sys/net/ipv4/ip_forward”. A partir desse ponto, podem-se criar as regras de liberação específicas solicitadas pela atividade, conforme demonstrado abaixo: Liberação do HTTP: iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 80 -j ACCEPT Liberação do HTTPS: iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 443 -j ACCEPT Liberação do MSN: iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 1863 -j ACCEPT Liberação do DNS: iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p UDP --sport 1024:65535 --dport 53 -j ACCEPT Segue abaixo o arquivo Shell agrupando todas as regras demonstradas acima em um único arquivo nomeado fw.sh. [sourcecode language=&quot;bash&quot;] #!/bin/sh # Limpa as regras atuais iptables --flush # Regra padrão (Bloqueia tudo) iptables -P INPUT DROP iptables -P OUTPUT DROP iptables -P FORWARD DROP # Libera os retornos de stados e pacotes de saida iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT iptables -A OUTPUT -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT iptables -A FORWARD -m state --state ESTABLISHED,RELATED -j ACCEPT # Liberando tudo da Loopback iptables -A INPUT -i lo -j ACCEPT # Libera forward e adiciona as rotas echo 1 &gt; /proc/sys/net/ipv4/ip_forward # Regra 1 – Libera o acesso HTTP e HTTPS iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 80 -j ACCEPT iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 443 -j ACCEPT # Regra 2 – Libera o acesso DNS e MSN iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 1863 -j ACCEPT iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p UDP --sport 1024:65535 --dport 53 -j ACCEPT [/sourcecode] Aker Firewall x Linux Pode-se observar nessa comparação que devido à utilização de uma interface gráfica, a configuração no Aker fica mais intuitiva ao administrador, dando-lhe a clareza das configurações por se aproximar com o desenho de seu ambiente. Dessa forma, o administrador tem um ganho de produtividade com a redução do tempo de implementação e gestão das regras de filtragem. 2.4.2. Implementação de QoS Para esta comparação, deverá ser implementado um QoS de 2 Mbps simétrico, ou seja, de download e upload, para os protocolos HTTP e HTTPS. Aker Firewall Para a implementação do QoS no Aker, será criada uma entidade do tipo “Canal”, conforme a figura 10. Após a criação da entidade, serão aproveitadas as mesmas regras de filtragem criadas na comparação anterior e será inserido o canal na regra necessária, conforme mostrado na figura 11. Figura 10: Entidade do tipo canal Figura 11: Regras de filtragem aplicadas no Aker Firewall com QoS Linux Para a criação do QoS foi utilizado o aplicativo tc, que também está instalado por padrão na distribuição escolhida. O tc aplica as políticas de QoS com base nos pacotes de saída da placa física da máquina. Dessa forma, faz-se necessária a criação de duas políticas distintas, uma para upload de pacotes e outra para download. Para uma melhor compreensão dos comandos, a figura 12, criada por BALLIACHE, ilustra a sequência de ligação entre os elementos do tc. Figura 12: Elementos do TC Os elementos definidos pelo tc são os seguintes: Queuing Disciplines = qdisc Algoritmos que controlam o enfileiramento e envio de pacotes. Classes Representam “entidades de classificação de pacotes”. Filters Utilizados para policiar e classificar os pacotes e atribuí-los as classes. Policers Utilizados para evitar que o tráfego associado a cada filtro ultrapasse limites pré-definidos. Política de upload: Exclusão da qdisc principal e todos os objetos vinculados: tc qdisc del dev eth0 root Criação da qdisc principal: tc qdisc add dev eth0 handle 1:0 root htb Criação da classe: tc class add dev eth0 parent 1:0 classid 1:1 htb rate 128kbps Criação da qdisc da classe: tc qdisc add dev eth0 parent 1:1 handle 10:0 pfifo limit 10 Aplicação dos filtros: tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 80 0xfff flowid 1:1 tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 443 0xfff flowid 1:1   Política de download: Exclusão da qdisc principal e todos os objetos vinculados: tc qdisc del dev eth1 root Criação da qdisc principal: tc qdisc add dev eth1 handle 2:0 root htb Criação da classe: tc class add dev eth1 parent 2:0 classid 2:1 htb rate 2048kbps Criação da qdisc da classe: tc qdisc add dev eth1 parent 2:1 handle 30:0 pfifo limit 10 Aplicação dos filtros: tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 80 0xfff flowid 2:1 tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 443 0xfff flowid 2:1   Segue abaixo o arquivo Shell agrupando todas as regras demonstradas acima. Este foi nomeado como qos.sh [sourcecode language=&quot;bash&quot;] #!/bin/bash&lt;/p&gt; # POLITICA DE UPLOAD (eth0) tc qdisc del dev eth0 root tc qdisc add dev eth0 handle 1:0 root htb tc class add dev eth0 parent 1:0 classid 1:1 htb rate 128kbps tc qdisc add dev eth0 parent 1:1 handle 10:0 pfifo limit 10 tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 80 0xfff flowid 1:1 tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 443 0xfff flowid 1:1 # POLITICA DE DOWNLOAD (eth1) tc qdisc del dev eth1 root tc qdisc add dev eth1 handle 2:0 root htb tc class add dev eth1 parent 2:0 classid 2:1 htb rate 2048kbps tc qdisc add dev eth1 parent 2:1 handle 30:0 pfifo limit 10 tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 80 0xfff flowid 2:1 tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 443 0xfff flowid 2:1 [/sourcecode] Aker Firewall x Linux Tendo como foco a clareza no entendimento da aplicação das funcionalidades, o tc se mostrou pouco favorável, demandando um tempo maior do administrador no entendimento dos comandos, aplicação e gestão dessa regra de QoS. Em contrapartida, o Aker aproveitou um ambiente já montado e de fácil compreensão ao administrador para implementar a regra de QoS. 2.4.3. Criação de filtros personalizados em camada de aplicação. O objetivo deste teste é comparar a capacidade dos dois produtos em realizar filtro específico (criado pelo administrador) em camada de aplicação, para liberação ou bloqueio de uma conexão. Aker firewall Para a implementação de um filtro em camada de aplicação, é necessário criar um filtro com um texto personalizado que se deseja buscar nos pacotes, conforme demonstrado na figura 13, e posteriormente aplicá-lo em uma regra de filtragem de aplicações, conforme demonstrado na figura 14. Figura 13: Criação do filtro de aplicações Figura 14: Criação da regra de filtragem de aplicações Linux Para a criação deste tipo de filtragem no Linux, é necessário recompilar o Kernel e o iptables com o módulo Layer7[4]. Para a compilação do kernel e iptables foi utilizado o artigo de ROBERTO (2007), conforme segue abaixo: Passo 1 – Download dos pacotes[5]: linux-2.6.23.tar.bz2 iptables-1.3.8.tar.bz2 l7-protocols-2007-11-22.tar.gz netfilter-layer7-v2.14.tar.gz Passo 2 – remoção do Iptables # yum remove iptables Passo 3 – Descompactar os pacotes em /usr/src # cd /usr/src # tar xjvf linux-2.6.23.tar.bz2 # tar xjvf iptables-1.3.8.tar.bz2 # tar xzvf netfilter-layer7-v2.14.tar.gz # tar xzvf l7-protocols-2007-11-22.tar.gz # mkdir /etc/l7-protocols # cp -a /usr/src/l7-protocols-2007-11-22/protocols/ /etc/l7-protocols/ Passo 4 – Criar links simbólicos # ln -s /usr/src/linux-2.6.23 /usr/src/Linux # ln -s /usr/src/iptables-1.3.8 /usr/src/iptables Passo 5 – Aplicar os patchs no kernel e no iptables e configurar o layer7 # cd /usr/src/linux # patch -p1 &lt; /usr/src/netfilter-layer7-v2.14/kernel-2.6.22-layer7-2.14.patch # cd /usr/src/iptables # patch -p1 &lt; /usr/src/netfilter-layer7-v2.14/iptables-for-kernel-2.6.20forward-layer7-2.14.patch # cd /usr/src/linux # make menuconfig Neste ponto, é necessário selecionar o Layer7 para posterior compilação junto com o kernel. Então, navegue com o teclado até a opção: Networking Networking Options Network packet filtering framework (Netfilter) Core Netfilter Configuration Ao encontrar a opção &lt; &gt; “layer7&quot; match support, marque-a com um M, e a que vem logo abaixo dela, com um asterisco, ficando assim: &lt;M&gt; “layer7&quot; match support [*] Layer 7 debugging output Salve e saia do menuconfig. Passo 5 – Compilar o kernel # make dep # make clean # make bzImage # make modules # make modules_install # make install Após a compilação, reinicie a máquina e selecione o kernel novo compilado, pois o kernel antigo e o padrão de boot. Passo 6 – Definir permissões e compilar o iptables. # chmod 755 extensions/.layer7-test # make KERNELDIR=/usr/src/linux # make KERNELDIR=/usr/src/linux install Passo 7 – Se necessário, habilitar o módulo no kernel. # modprobe ipt_layer7 Agora basta efetuar a criação do Pattern de consulta e aplicar a regra no iptables. Conteúdo do arquivo “/etc/l7-protocols/protocols/terra.pat” terra terra.com* Regra do iptables iptables -I FORWARD -m layer7 --l7proto terra -s any/0 -p TCP --sport 1024:65535 --dport 80  -j DROP Aker Firewall x Linux O kernel do Linux e o iptables não implementam em modo nativo a funcionalidade de filtragem em camada de aplicação.Dessa forma, há a necessidade de utilizar um módulo de terceiros anexo ao iptables e ao kernel do Linux para habilitar essa funcionalidade, além de haver a necessidade de efetuar a recompilação do kernel. No entanto, como afirma KROAH-HARTMAN (2007, p. ix), esse pocesso de recompilação é um processo incompreensível para a maioria das pessoas. O Aker implementa de forma nativa a filtragem de aplicação de forma intuitiva e de rápida aplicação, bastando apenas criar o filtro e a regra de filtragem de aplicação desejada. Indo além dessa configuração trivial, é possível com o Aker configurar nessa mesma regra de filtragem de aplicação que essa conexão seja policiada com QoS. 3. Conclusão Observou-se neste estudo que a informação é um bem valioso para a empresa, assim como seus ativos físicos, merecendo uma atenção no tocante a segurança dessa informação. Aprofundando-se no ambiente da segurança de informação, este estudo demonstra que a segurança da informação está baseada em 3 pilares bases: confidencialidade, integridade e disponibilidade, sendo que quando se retira um desses pilares, acontece o que se conceitua como incidente de segurança da informação. Quando se fala de incidente de segurança, logo se imagina um ataque hacker. Porém, há outros incidentes que também são prejudiciais ao ambiente corporativo, como o acesso indevido de colaboradores a recursos computacionais, sendo eles internos ou externos, e de colaboradores tentando burlar o sistema de proteção e filtragem HTTP, MSN, e-mail e outros. Essas e outras atividades que caracterizam uma tentativa de ataque podem evoluir para um incidente e precisam ser tratadas, através de uma política de segurança que utilizará ferramentas para evitar um incidente de segurança. Nesse escopo, há algumas ferramentas importantes para controlar esses acessos, como os firewalls e proxies. Hoje, há no mercado, uma grande variedade de softwares de firewall e proxy, sendo que alguns deles se integram em um único produto e outros trabalham de forma independente. Neste cenário, um dos sistemas mais utilizados para esses fins é o Linux, por ser, aparentemente, um recurso mais acessível, já que não há o custo de licenças. Porém, recentemente, um estudo dirigido pela Microsoft mostrou que o custo de licenciamento corresponde a 5% do custo efetivo total de um servidor (FOLHA, 2002) e que há custos, muitas vezes não contabilizados, como o valor da hora de trabalho do profissional que administra esses equipamentos na empresa. A administração de um sistema de proteção de segurança de informação como um firewall e proxy baseado em Linux, demanda do profissional não só um conhecimento na tecnologia, mas também um profundo conhecimento do sistema operacional Linux. Outra desvantagem desse tipo de sistema, é a falta de padronização, pois cada distribuição Linux tem uma metodologia de implementação e cada profissional tem sua própria metodologia de implementação. É importante ressaltar que os sistemas Linux são tecnicamente ótimos produtos e utilizados em larga escala, porém, geralmente, não há uma preocupação em se ter uma boa produtividade e clareza das configurações no momento de sua gestão. Objetivando ilustrar o ganho de clareza, ou seja, o entendimento da metodologia de implementação e funcionalidade dos recursos de um firewall e Proxy, bem como o ganho de produtividade em suas 5 abordagens definidas por PARKINSON, este estudo efetuou a comparação da metodologia de implementação de 3 atividades distintas entre o Firewall Aker e sistemas baseado em Linux. Porém, sugere-se uma continuidade deste estudo com algumas outras comparações, todas elas possíveis de serem implementadas de forma simples e objetiva no firewall Aker: Regras de liberação e bloqueios de site com autenticação aplicando perfil de navegação distinto para grupos de usuários; Aplicação de quota de navegação por tempo e/ou tráfego HTTP e MSN; Aplicação de QoS por categorias/lista de sites; Regras de firewall e Proxy com habilitação automática tendo como base dias e horários da semana; Bloqueios por tipo de navegador; Reescrita de URL; Aplicação de Proxy MSN com filtragem por domínios, e-mails, aplicativos liberados e transferência de arquivos; Implementação em modo cluster com replicação automática das configurações entre os nós do cluster. Em termos de clareza no entendimento da função de uma determinada regra, o firewall Aker tem uma vantagem considerável, pois sua console de gerenciamento é uma console gráfica podendo trabalhar em dois idiomas (português e inglês), não necessitando o conhecimento profundo em comandos e estrutura do sistema operacional base. Nas três comparações efetuadas, pode-se observar que em cada uma delas foi utilizado um aplicativo diferente. Dessa forma, configurações distintas puderam ser aplicadas de forma distinta, dependendo do administrador desse sistema. Na terceira comparação, houve a necessidade de efetuar a compilação do Kernel do Linux a qual nem sempre é um processo intuitivo. como afirma KROAH-HARTMAN (2007, p. ix): “A compilação do Kernel Linux parece simples para quem está familiarizado, porém é incompreensível para a maioria das pessoas, pois não há um local onde toda a informação necessária para este processo é encontrada de forma clara e objetiva”. Neste estudo, pode-se, então, implementar todas as funcionalidades propostas nos dois produtos estudados, porém no firewall Aker houve um ganho de produtividade e clareza da aplicabilidade das regras e filtros propostos. Referencias Bibliográficas AKER, Security Solutions, Manual de treinamento: Aker Firewall 6.1. Disponível em: &lt; http://www1.aker.com.br/005/00502001.asp?ttCD_CHAVE=22239&gt;. Acesso em: 13 mar. 2010. ABNT NBR ISO/IEC 27002:2005, Código de prática para a gestão da segurança da informação BALLIACHE, Leonardo, Linux Queuing Disciplines. Disponível em: &lt;http://www.opalsoft.net/qos/DS.htm&gt;. Acesso em: 13 mar. 2010 CAMPOS, André L. N., Sistema de Segurança da Informação: Controlando os Riscos. ed. Florianópolis: Campus, 2006. CARVALHO, Gustavo, Qualidade de Serviços para Gateways Linux (QoS). Disponível em: &lt;http://www.vivaolinux.com.br/artigo/Qualidade-de-Servicos-para-Gateways-Linux-(QoS)&gt;. Acesso em: 13 mar. 2010 CHIAVENATO, I., Gestão de Pessoas: o novo papel dos recursos humanos nas organizações. ed. Rio de Janeiro: Campus, 1999. CISCO, Networking Academy – Semestre 2 do CCNA v.2.1. 2000. DAVENPORT, T. H. Ecologia da informação: por que só a tecnologia não basta para o sucesso na era da informação. ed. São Paulo : Futura, 1998 DUSSIN, Marco e FERRO, Nicola, The Role of the DIKW Hierarchy in the Design of a Digital Library System for the Scientific Data of Large-Scale Evaluation Campaigns. Disponível em: &lt;http://www.ieee-tcdl.org/Bulletin/v5n1/Dussin/dussin2.html&gt;. Acesso em: 13 mar. 2010. FOLHA, Microsoft diz que o Windows é mais barato do que o Linux. Disponível em: &lt; http://www1.folha.uol.com.br/folha/informatica/ult124u11484.shtml&gt;. Acesso em: 13 mar. 2010. ISO/IEC 13335-1:2004, Information technology — Security techniques — Management of information and communications technology security — Part 1: Concepts and models for information and communications technology security management JAKOBSON, Roman, Linguistica e Comunicação. ed. São Paulo: Cultrix, 2001. KROAH-HARTMAN, Greg, Linux Kernel in a Nutshell, ed. Estados Unidos: O’Reilly, 2007. MACEDO, Mariano de Matos, Gestão da produtividade nas empresas, ed. Curitiba: revista FAE Bussines n. 3 set, 2002. MICHAELIS, Dicionário, Moderno Dicionário da Língua Portuguesa. Disponível em: &lt;http://michaelis.uol.com.br/ &gt;. Acesso em: 11 mar. 2010. MOTA, J. E., Firewall com IPTABLES: Disponível em:  &lt;http://www.eriberto.pro.br/iptables/3.html&gt;. Acesso em: 13 mar. 2010. NAKAMURA, Emilio Tissato e GEUS, Paulo Licio, Segurança de redes em ambientes cooperativos, ed. São Paulo: Futura, 2003. PARKINSON, John, The Pursuit of Productivity, CIOInsight 01 abril, 2004. ROBERTO, Gustavo, Implementando Iptables Layer 7 no Fedora Core 7 e 8. Disponível em: &lt; http://www.gustavoroberto.blog.br/2007/12/09/implementando-iptables-layer-7-no-fedora-core-7-e-8/&gt;. Acesso em: 13 mar. 2010. SÊMOLA, Marcos, Gestão da Segurança da Informação: uma visão executiva. ed. Rio de Janeiro: Campus, 2003. SETZER, Valdemar W., Dado, Informação, Conhecimento e Competência. Disponível em: &lt; http://www.ime.usp.br/~vwsetzer/dado-info.html &gt;. Acesso em: 13 mar. 2010. WESSELS, Duane, Web Caching, ed. Estados Unidos: O’Reilly, 2001. [1] A informação é elemento essencial para todos os processos de negócio da organização, sendo, portanto, um bem ou ativo de grande valor. CAMPOS (2006, p. 9) [2] Relação adaptada pelo autor, visando focar no objeto deste estudo, tendo como fonte CAMPOS (2006, p. 11 e 12) [3] Este termo é patenteado pela Check Point Software Technologies Ltda. [4] http://l7-filter.sourceforge.net [5] Segue o link para download dos pacotes, Acesso em: 13 mar 2010: http://www.kernel.org/pub/linux/kernel/v2.6/linux-2.6.23.tar.bz2 http://www.netfilter.org/projects/iptables/files/iptables-1.3.8.tar.bz2 http://ufpr.dl.sourceforge.net/sourceforge/l7-filter/l7-protocols-2007-11-22.tar.gz http://ufpr.dl.sourceforge.net/project/l7-filter/l7-filter%20kernel%20version/2.14/netfilter-layer7-v2.14.tar.gz" /><meta property="og:description" content="Este post é a publicação do meu trabalho de conclusão de curso de Especialização em Redes e Segurança de Sistemas realizado na Pontifícia Universidade Católica do Paraná em março de 2010 Este estudo objetiva demonstrar o ganho de produtividade e clareza na gestão da segurança periférica corporativa, utilizando o Aker Firewall. A motivação inicial deste estudo baseia-se na dificuldade de se encontrar um padrão metodológico de implementação dos recursos de segurança periférica em produtos Linux e de se ter o nível técnico e o tempo necessários para a gestão dessas atividades. 1.      Conceitos relacionados 1.1. A segurança da informação Quando se fala em segurança de informação, é imprescindível entender, primeiramente, o que é informação e qual a sua importância para a empresa. A definição desse termo nem sempre é a mesma nas diversas áreas de trabalho, mas há semelhanças que são difundidas. Uma delas, é a figura a seguir intitulada “pirâmide do conhecimento”: Figura1: Pirâmide do conhecimento Nessa representação, baseada na pirâmide de DUSSIN E FERRO (2009), ―dado‖ seria “como uma seqüência de símbolos quantificados ou quantificáveis. Nesse sentido, um texto contendo letras, que são símbolos de um conjunto finito que é o alfabeto, pode constituir-se de uma base numérica e portanto é um dado. Também são dados, as fotos, as figuras, os sons gravados, pois todos podem ser quantificados.” SETZER (2002, p.1) De acordo com CHIAVENATO (1999, p. 366), a “informação é um conjunto de dados com um significado, ou seja, que reduz a incerteza ou que aumenta o conhecimento a respeito de algo”. Já o “conhecimento”, como definido por DAVENPORT (1998, p.19), “é a informação mais valiosa. É valiosa precisamente porque alguém deu à informação um contexto, um significado, uma interpretação”. A partir dessa definição, CAMPOS (2006, p. 3) afirma ainda que “a informação possui significado e causa impacto em grau menor ou maior, tornando-a o elemento essencial da extração e criação do conhecimento”. Dessa forma, o conhecimento pode ser considerado como a informação processada pelos indivíduos, ou seja, ele é adquirido pela utilização da informação na ação humana. Portanto, a informação é de grande importância para a geração do conhecimento. Nesse viés, CAMPOS (2006, p.4) define a informação como um valor para o negócio devido a sua importância nas tomada de decisões, estando ligada diretamente à geração de lucro. Tornando-se, assim, um bem, um ativo da organização, e como tal devendo ser protegido e preservado. Nesse escopo de proteção e preservação da informação, é importante definir e entender qual o significado de um sistema de segurança (proteção) da informação e quais são seus pilares e princípios que norteiam a implementação dessa prática. A norma NBR ISO/IEC 27002/2005 conceitua a segurança da informação como sendo a “preservação da confidencialidade, da integridade e da disponibilidade da informação”. Conforme ilustrado na figura 2, a segurança da informação está baseada em três pilares: 1) confidencialidade, 2) integridade, 3) disponibilidade. Essa norma afirma ainda que “adicionalmente, outras propriedades, tais como autenticidade, responsabilidade, não repúdio e confiabilidade, podem também estar envolvidas”. Figura 2: Pilares da segurança da informação Dessa forma, ao se quebrar um desses pilares, ocorre a quebra da segurança da informação ou, também chamada, incidente de segurança da informação. Para se obter um entendimento melhor desses pilares e as outras propriedades propostas pela NBR ISO/IEC 27002/2005, será utilizada a definição de SÊMOLA (2003, p. 45), de NBR ISO/IEC 27002/2005 e de ISO/IEC 13335-1:2004. Confidencialidade: toda informação deve ser protegida de acordo com o grau de sigilo de seu conteúdo, visando a limitação de seu acesso e uso apenas às pessoas para quem elas são destinadas. Integridade: toda informação deve ser mantida na mesma condição em que foi disponibilizada pelo seu proprietário, visando protegê-las contra alterações indevidas, intencionais ou acidentais. Disponibilidade: toda informação gerada ou adquirida por um indivíduo ou instituição deve estar disponível aos seus usuários no momento em que os mesmos dela necessitarem para qualquer finalidade. Autenticidade: a garantia de que o usuário, objeto ou recurso é quem diz ser. Responsabilidade: a capacidade de responsabilização de um usuário pelos atos cometidos. Não repúdio: garantia de uma ação, evento ou informação não poderá ser negada pelo seu autor. Confiabilidade: garantia de tolerância a falhas de um sistema de informação. No contexto de segurança de informação, há vulnerabilidades, que são fraquezas presentes nos ativos[1] de informação e que podem causar, intencionalmente ou não, a quebra de um ou mais dos três princípios de segurança da informação. (CAMPOS, 2006, p. 9). Podem-se relacionar as vulnerabilidades aos seguintes ativos de informação[2]: Tecnologias: Computadores sem proteção contra vírus, spywares e worms; Switches não protegidos com senha ou protegidos com a senha padrão de fábrica; Rede local acessível por senha padrão ou pública; Sistema de informação sem controle de acesso lógico; Acesso não controlado a recursos computacionais externos a rede corporativa (tendo como origem um equipamento interno). Pessoas e processos: A ausência de uma política institucional de segurança da informação dentro da organização; A inexistência de regulamentação para acesso à informação da organização por terceiros e prestadores de serviço; A ausência de procedimentos disciplinares para o tratamento das violações da política de segurança da informação; A ausência de regulamentação explícita quanto aos cuidados com a informação, do que é permitido ou não, tais como os procedimentos de compra ou desenvolvimento de sistemas de informação, a gestão das cópias de segurança, controle de versão e software, proteção contra softwares maliciosos, gerenciamento da rede local de computadores, gestão das mídias de armazenamento, uso do correio eletrônico, acesso à Internet, entre outros. Observa-se por essa breve relação que a segurança da informação não se limita no âmbito de informática, mas envolve toda a corporação. 1.2. Produtividade e clareza 1.2.1. Produtividade A produtividade tem se tornado fator diferencial entre o manter-se no mercado ou sucumbir. MACEDO (2002, p. 1) afirma que: “Atualmente, sem produtividade ou sem a eficiência do processo produtivo, dificilmente uma empresa vai ser bem-sucedida ou até mesmo sobreviver no mercado. Dado o acirramento da concorrência, a gestão da produtividade está se tornando um dos quesitos essenciais na formulação das estratégias de competitividade das empresas”. Um aumento de produtividade pode ser alcançado de várias maneiras, PARKINSON (2004, p. 1) listou 5 abordagens que podem ser aplicadas para o incremento de produtividade: Eliminar trabalho desnecessário; Eliminar retrabalho desnecessário; Reduzir a duração do esforço; Automatizar tudo que for possível; e Gerenciar a demanda. A Tecnologia da informação (doravante, TI) tem se mostrado uma importante ferramenta para o aumento de produtividade, inclusive englobando as 5 abordagens apontadas por PARKINSON. 1.2.2. Clareza Segundo o dicionário MICHAELIS (2009), clareza é “qualidade do que é claro ou inteligível”, “qualidade do que se percebe bem” e ainda “limpidez, transparência”. 1.3. Protocolo de comunicação O dicionário MICHAELIS (2009) conceitua protocolo como sendo o “conjunto de parâmetros que define como a transferência da informação vai ser controlada”. No entanto, antes de adentrarmos em detalhamentos técnicos dos protocolos de comunicação, observaremos a teoria básica da comunicação, conforme definida por JAKOBSON (2001, p. 14): “A teoria da comunicação parece-me uma boa escola para a Lingüística estrutural, assim como a Lingüística estrutural é uma escola útil para os engenheiros de comunicações. Penso que a realidade fundamental com que se tem de haver o lingüista é a interlocução — a troca de mensagens entre emissor e receptor, entre remetente e destinatário, entre codificador e decodificador”. JAKOBSON (2001) sugere, então, o seguinte esquema: Figura 3: Teoria da comunicação Observa-se na figura que toda comunicação é composta de uma fonte de dados que gera os dados de uma forma padrão, ou seja, em uma codificação, o emissor envia a mensagem ao receptor, que encaminha ao alvo (destino), que consegue interpretar estes dados por conhecer a codificação. Esta teoria aplica-se de forma geral a todas as metodologias de comunicação existentes e na informática isso não é diferente. Para que haja comunicação entre dois ou mais computadores é necessário um código de comunicação, aqui chamado protocolo de comunicação. O protocolo de comunicação mais utilizado em todo o mundo é o TCP/IP (Transfer Control Protocol / Internet Protocol). 1.3.1. TCP/IP “O conjunto de protocolos TCP/IP foi desenvolvido como parte da pesquisa feita pela Defense Advanced Research Projects Agency (DARPA). Ele foi originalmente desenvolvido para fornecer comunicação através da DARPA. Posteriormente, o TCP/IP foi incluído com o Berkeley Software Distribution da UNIX. Agora, o TCP/IP é de fato o padrão das comunicações de internetworks e serve como protocolo de transporte para a Internet, permitindo a comunicação de milhares de computadores no mundo todo” (CISCO, 2000). “A função da pilha, ou conjunto, TCP/IP é transferir informações de um dispositivo em rede para outro. Ao fazer isso, ela mapeia cuidadosamente o modelo de referência TCP/IP nas camadas inferiores e suporta todos os protocolos padrão físicos e de enlace de dados” (CISCO, 2000). “As camadas mais afetadas pelo conjunto TCP/IP são a camada 4 (aplicação), a camada 3 (transporte) e a camada 2 (rede). Outros tipos de protocolos, com várias finalidades/funções, todas relativas à transferência de informações, estão incluídos nessas camadas” (CISCO, 2000). Figura 4: Modelo TCP/IP O modelo TCP/IP é divido em camadas de forma a estar em conformidade com o modelo OSI. O Modelo em camadas é um modelo que efetua a separação teórico/prática da função e concorrência dos diversos protocolos. Basicamente, protocolos contidos em mesma camada são concorrentes, ou seja, não podem aparecer concomitantemente no mesmo pacote de comunicação. Já os protocolos de camadas distintas são complementares, devendo aparecer no mesmo pacote de comunicação. De forma simplificada e omitindo alguns campos para uma melhor compreensão, a figura 5 demonstra os campos de um pacote TCP/IP separado por camadas, bem como a ordem de empacotamento na pilha TCP/IP. Figura 5: Sequenciamento de empacotamento TCP/IP Para um melhor entendimento, a tabela abaixo demonstra alguns exemplos de protocolos em cada uma das camadas. Camada Protocolo Aplicação DNS, POP3, SMTP, SNMP, HTTP, HTTPS, FTP, TELNET e MSN Transporte TCP e UDP Rede IP, ICMP e ARP Física MAC Address, Ethernet e Frame Relay Tabela 1: Exemplos de protocolos por camada TCP/IP 1.4. Firewall Segundo CHESWICK e BELLOVIN apud NAKAMURA e GEUS (2003, p. 206), firewall é um ponto entre duas ou mais redes no qual circula todo o tráfego. A partir desse único ponto, é possível controlar e autenticar o tráfego. Já CHAPMAN apud NAKAMURA e GEUS (2003, p. 206) define firewall como sendo um componente ou conjunto de componentes que restringe o acesso entre uma rede protegida e a internet ou entre outros conjuntos de redes. Partindo dessas duas definições, observa-se que o firewall é o principal equipamento de ligação e controle entre duas ou mais redes, por onde passa todo o tráfego delas. Um sistema de firewall é composto por vários componentes sendo que cada qual desempenha uma funcionalidade, conforme listado e demonstrado por NAKAMURA e GEUS (2003, p. 208). As quatro primeiras funcionalidades seriam os filtros, proxies, bastion hosts e zonas desmilitarizadas. Porém, com a evolução das necessidades de segurança, foram inseridas ainda neste contexto o Network Address Translation  - NAT, a Rede privada Virtual  - VPN e a autenticação/certificação. Para se manter de acordo com o objetivo deste estudo, somente os itens filtros e proxies serão detalhados. 1.4.1 Filtros Os filtros são responsáveis por efetuar o controle de pacotes que entram e saem do firewall, na maioria das vezes efetuando o roteamento dos mesmos. O filtro geralmente efetua a análise atuando na camada de rede e de transporte do modelo TCP/IP comparando os dados do cabeçalho do pacote, tais como endereço de origem, endereço de destino, porta de origem, porta de destino, flags e protocolo, com um conjunto de regras estáticas. Segundo NAKAMURA e GEUS (2003, p. 215), esse tipo de firewall é conhecido como static packet filtering. Porém, esse tipo de filtragem é vulnerável a diversos tipos de ataques e não se torna compatível com alguns protocolos de camada de aplicação como FTP, RPC e H.323, pois esses utilizam dois ou mais canais de comunicação ou portas dinâmicas (NAKAMURA e GEUS, 2003, p. 215). Visando solucionar esses e outros problemas e prover uma filtragem mais efetiva e dinâmica, aumentando desta forma a segurança, a Check Point criou o conceito Stateful Inspection[3]. Stateful inspection (também conhecido como dynamic packet filtering) toma as decisões de filtragem tendo como referência os seguintes elementos: As informações dos cabeçalhos dos pacotes, igual o static packet filtering; Informações recuperadas, armazenadas e manipuladas de todas as camadas do modelo TCP/IP da comunicação corrente ou de outras comunicações. Como por exemplo, o comando de porta de saída de uma sessão FTP; Informações provenientes de outros aplicativos, como por exemplo, um usuário autenticado tendo acesso a serviços autorizados; 1.4.2. Caching Antes de falar em proxies é importante se falar em caching, pois muitos autores erroneamente definem Proxy como sendo igual à cache que, no entanto, são serviços distintos. Segundo WESSELS (2001, p. 1), o termo cache é um termo francês que significa, literalmente, armazenar. Ao se tratar de tecnologia da informação, caching se refere ao armazenamento de informações recentemente recuperadas para futura referência e utilização. As informações podem ou não serem utilizadas novamente, fazendo com que o cache seja benéfico somente quando o custo computacional de armazenar a informação for inferior ao custo de recuperar ou calcular as informações novamente. Atualmente, o caching é utilizado em várias áreas dentro da computação, como em processadores, sistemas operacionais e outros. Já os serviços para a internet que atualmente mais se utilizam de cache são o HTTP e DNS. 1.4.3. Proxies Proxies são aplicativos que realizam filtragens mais apuradas em camada de aplicação. Por trabalhar em camada de aplicação, é exigido um código (aplicativo) para cada serviço a ser filtrado. Atualmente, há basicamente dois tipos de proxies, o ativo e o transparente. A principal distinção entre eles é que o ativo necessita de uma personalização dos aplicativos clientes para que se efetue a solicitação do serviço desejado ao proxy e o transparente não precisa da personalização, pois o cliente efetua a solicitação de serviço diretamente ao servidor final e é o firewall que redireciona a solicitação do cliente para o proxy. Em ambos, porém, é o servidor de proxy que efetua a requisição ao servidor final e retorna o resultado ao cliente. Alguns serviços de proxy existentes no mercado implementam a funcionalidade de caching como é o exemplo do Squid e o Microsoft Isa Server. 2. Estudo de caso: Aker Firewall x Ferramentas OpenSource (Linux) 2.1. Por que esses produtos? 2.1.1. Linux A escolha do Linux para este estudo se deve ao fato desse sistema se constituir em um dos sistemas operacionais mais utilizados para servidores em geral. A distribuição do Linux escolhida para este estudo foi a da Fedora em sua versão 8. A escolha dessa distribuição e versão se baseia na familiaridade do pesquisador. 2.1.2. Aker Firewall A escolha desse produto foi feita devido ao fato de ser um produto 100% nacional, com qualidade e robustez que o coloca na mesma categoria que os melhores produtos deste ramo no mercado, como Firewall 1 da Checkpoint. A versão escolhida para este estudo foi a 6.1, por ser a versão comercializada no período deste estudo. 2.2. Escopo deste estudo Este estudo limitar-se-á em comparar as metodologias de implementação de algumas funcionalidades do Aker Firewall com produtos que implementam as mesmas funcionalidades no Linux, tendo como premissa a disponibilidade de somente um hardware para a implementação de cada produto, sem a utilização de máquinas virtuais para aproveitamento do mesmo hardware. Este estudo não tem a pretensão de exaurir todos os recursos dos dois produtos. Neste, será demonstrada a configuração passo-a-passo para implementação de cada funcionalidade nos produtos, demonstrando telas e arquivos de configuração quando necessários. As funcionalidades comparadas neste estudo são: Regras de filtragem na camada de transporte; Implementação de QoS; Criação de filtros personalizados em camada de aplicação. 2.3. Ambiente A figura 6 apresenta o detalhamento do ambiente montado para as comparações técnicas. Figura 6: Ambiente técnico de implementação 2.4. Comparação de funcionalidades 2.4.1. Regras de filtragem na camada de transporte Para esta comparação, serão criadas 3 regras em cada um dos firewalls: Liberação da rede interna para acessar HTTP e HTTPS tendo como destino qualquer faixa de IP; Liberação da rede interna para acessar DNS e MSN tendo como destino qualquer faixa de IP; Bloqueia o restante dos pacotes. Serviço Porta Protocolo HTTP 80 TCP HTTPS 443 TCP DNS 53 UDP MSN 1863 TCP Tabela 2: Descrição de serviços x porta e protocolo Aker Firewall O Aker é um produto orientado a objetos, por isso para poder criar qualquer regra, se faz necessário criar os objetos que fazem a representação do mundo real para o produto, os quais são chamados de entidade. A figura 7 mostra quais os tipos de entidades aceitas no produto. Figura 7: Lista de tipos de entidade Para a criação das regras solicitadas, será necessário criar 6 etidades que serão demonstradas na figura 8. 1) Rede interna, 2) internet, 3) HTTP, 4) HTTPS, 5) DNS, 6) MSN Messenger. Figura 8: Entidades criadas para as regras desta comparação Após a criação das entidades, basta criar as regras, conforme demonstrado na figura 9. Observa-se que o item 3 desta comparação, “bloqueio do restante dos pacotes”, não foi criado. Isso se deve ao fato de que, por padrão, o firewall Aker descarta todos os pacotes, considerando apenas as regras criadas. Observa-se também que não há a necessidade de criar regras de retorno dos pacotes, pois o Aker é stateful inspection. Figura 9: Regras de filtragem aplicadas no Aker Firewall Linux Para a criação das regras, foi utilizado o aplicativo IPTABLES que vem habilitado por padrão na distribuição escolhida. Para facilitar a aplicação das regras, serão criadas todas em um arquivo Shell. Dessa forma, a primeira linha do arquivo em questão será “#!/bin/sh”. Logo após esta linha, serão colocados os comandos IPTABLES. O primeiro comando iptables a ser aplicado efetua a limpeza de todas as regras a fim de evitar que regras antigas ou aplicadas por outros scripts possam influenciar neste equipamento. O comando de limpeza é “iptables --flush”. Após a limpeza de todas as regras, faz-se necessário definir a regra padrão do IPTABLES, as quais serão definidas com os comandos “iptables -P INPUT DROP”, “iptables -P OUTPUT DROP” e “iptables -P FORWARD DROP”. As regras de bloqueio estão definidas, sendo necessário começar, então, a criar as regras de liberação. As primeiras regras de liberação que serão criadas são as que permitem os pacotes de conexões pré-estabelecidas. Em seguida, será criada a regra que libera todos os pacotes em loopback. As regras são: “iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT”, “iptables -A OUTPUT -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT”, “iptables -A FORWARD -m state --state ESTABLISHED,RELATED -j ACCEPT” e “iptables -A INPUT -i lo -j ACCEPT”. Antes de criar as regras específicas solicitadas pela atividade será adicionado um comando para habilitar no kernel do Linux o encaminhamento de pacotes, para que este faça a funcionalidade de roteador “echo 1 &gt; /proc/sys/net/ipv4/ip_forward”. A partir desse ponto, podem-se criar as regras de liberação específicas solicitadas pela atividade, conforme demonstrado abaixo: Liberação do HTTP: iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 80 -j ACCEPT Liberação do HTTPS: iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 443 -j ACCEPT Liberação do MSN: iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 1863 -j ACCEPT Liberação do DNS: iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p UDP --sport 1024:65535 --dport 53 -j ACCEPT Segue abaixo o arquivo Shell agrupando todas as regras demonstradas acima em um único arquivo nomeado fw.sh. [sourcecode language=&quot;bash&quot;] #!/bin/sh # Limpa as regras atuais iptables --flush # Regra padrão (Bloqueia tudo) iptables -P INPUT DROP iptables -P OUTPUT DROP iptables -P FORWARD DROP # Libera os retornos de stados e pacotes de saida iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT iptables -A OUTPUT -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT iptables -A FORWARD -m state --state ESTABLISHED,RELATED -j ACCEPT # Liberando tudo da Loopback iptables -A INPUT -i lo -j ACCEPT # Libera forward e adiciona as rotas echo 1 &gt; /proc/sys/net/ipv4/ip_forward # Regra 1 – Libera o acesso HTTP e HTTPS iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 80 -j ACCEPT iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 443 -j ACCEPT # Regra 2 – Libera o acesso DNS e MSN iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 1863 -j ACCEPT iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p UDP --sport 1024:65535 --dport 53 -j ACCEPT [/sourcecode] Aker Firewall x Linux Pode-se observar nessa comparação que devido à utilização de uma interface gráfica, a configuração no Aker fica mais intuitiva ao administrador, dando-lhe a clareza das configurações por se aproximar com o desenho de seu ambiente. Dessa forma, o administrador tem um ganho de produtividade com a redução do tempo de implementação e gestão das regras de filtragem. 2.4.2. Implementação de QoS Para esta comparação, deverá ser implementado um QoS de 2 Mbps simétrico, ou seja, de download e upload, para os protocolos HTTP e HTTPS. Aker Firewall Para a implementação do QoS no Aker, será criada uma entidade do tipo “Canal”, conforme a figura 10. Após a criação da entidade, serão aproveitadas as mesmas regras de filtragem criadas na comparação anterior e será inserido o canal na regra necessária, conforme mostrado na figura 11. Figura 10: Entidade do tipo canal Figura 11: Regras de filtragem aplicadas no Aker Firewall com QoS Linux Para a criação do QoS foi utilizado o aplicativo tc, que também está instalado por padrão na distribuição escolhida. O tc aplica as políticas de QoS com base nos pacotes de saída da placa física da máquina. Dessa forma, faz-se necessária a criação de duas políticas distintas, uma para upload de pacotes e outra para download. Para uma melhor compreensão dos comandos, a figura 12, criada por BALLIACHE, ilustra a sequência de ligação entre os elementos do tc. Figura 12: Elementos do TC Os elementos definidos pelo tc são os seguintes: Queuing Disciplines = qdisc Algoritmos que controlam o enfileiramento e envio de pacotes. Classes Representam “entidades de classificação de pacotes”. Filters Utilizados para policiar e classificar os pacotes e atribuí-los as classes. Policers Utilizados para evitar que o tráfego associado a cada filtro ultrapasse limites pré-definidos. Política de upload: Exclusão da qdisc principal e todos os objetos vinculados: tc qdisc del dev eth0 root Criação da qdisc principal: tc qdisc add dev eth0 handle 1:0 root htb Criação da classe: tc class add dev eth0 parent 1:0 classid 1:1 htb rate 128kbps Criação da qdisc da classe: tc qdisc add dev eth0 parent 1:1 handle 10:0 pfifo limit 10 Aplicação dos filtros: tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 80 0xfff flowid 1:1 tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 443 0xfff flowid 1:1   Política de download: Exclusão da qdisc principal e todos os objetos vinculados: tc qdisc del dev eth1 root Criação da qdisc principal: tc qdisc add dev eth1 handle 2:0 root htb Criação da classe: tc class add dev eth1 parent 2:0 classid 2:1 htb rate 2048kbps Criação da qdisc da classe: tc qdisc add dev eth1 parent 2:1 handle 30:0 pfifo limit 10 Aplicação dos filtros: tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 80 0xfff flowid 2:1 tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 443 0xfff flowid 2:1   Segue abaixo o arquivo Shell agrupando todas as regras demonstradas acima. Este foi nomeado como qos.sh [sourcecode language=&quot;bash&quot;] #!/bin/bash&lt;/p&gt; # POLITICA DE UPLOAD (eth0) tc qdisc del dev eth0 root tc qdisc add dev eth0 handle 1:0 root htb tc class add dev eth0 parent 1:0 classid 1:1 htb rate 128kbps tc qdisc add dev eth0 parent 1:1 handle 10:0 pfifo limit 10 tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 80 0xfff flowid 1:1 tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 443 0xfff flowid 1:1 # POLITICA DE DOWNLOAD (eth1) tc qdisc del dev eth1 root tc qdisc add dev eth1 handle 2:0 root htb tc class add dev eth1 parent 2:0 classid 2:1 htb rate 2048kbps tc qdisc add dev eth1 parent 2:1 handle 30:0 pfifo limit 10 tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 80 0xfff flowid 2:1 tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 443 0xfff flowid 2:1 [/sourcecode] Aker Firewall x Linux Tendo como foco a clareza no entendimento da aplicação das funcionalidades, o tc se mostrou pouco favorável, demandando um tempo maior do administrador no entendimento dos comandos, aplicação e gestão dessa regra de QoS. Em contrapartida, o Aker aproveitou um ambiente já montado e de fácil compreensão ao administrador para implementar a regra de QoS. 2.4.3. Criação de filtros personalizados em camada de aplicação. O objetivo deste teste é comparar a capacidade dos dois produtos em realizar filtro específico (criado pelo administrador) em camada de aplicação, para liberação ou bloqueio de uma conexão. Aker firewall Para a implementação de um filtro em camada de aplicação, é necessário criar um filtro com um texto personalizado que se deseja buscar nos pacotes, conforme demonstrado na figura 13, e posteriormente aplicá-lo em uma regra de filtragem de aplicações, conforme demonstrado na figura 14. Figura 13: Criação do filtro de aplicações Figura 14: Criação da regra de filtragem de aplicações Linux Para a criação deste tipo de filtragem no Linux, é necessário recompilar o Kernel e o iptables com o módulo Layer7[4]. Para a compilação do kernel e iptables foi utilizado o artigo de ROBERTO (2007), conforme segue abaixo: Passo 1 – Download dos pacotes[5]: linux-2.6.23.tar.bz2 iptables-1.3.8.tar.bz2 l7-protocols-2007-11-22.tar.gz netfilter-layer7-v2.14.tar.gz Passo 2 – remoção do Iptables # yum remove iptables Passo 3 – Descompactar os pacotes em /usr/src # cd /usr/src # tar xjvf linux-2.6.23.tar.bz2 # tar xjvf iptables-1.3.8.tar.bz2 # tar xzvf netfilter-layer7-v2.14.tar.gz # tar xzvf l7-protocols-2007-11-22.tar.gz # mkdir /etc/l7-protocols # cp -a /usr/src/l7-protocols-2007-11-22/protocols/ /etc/l7-protocols/ Passo 4 – Criar links simbólicos # ln -s /usr/src/linux-2.6.23 /usr/src/Linux # ln -s /usr/src/iptables-1.3.8 /usr/src/iptables Passo 5 – Aplicar os patchs no kernel e no iptables e configurar o layer7 # cd /usr/src/linux # patch -p1 &lt; /usr/src/netfilter-layer7-v2.14/kernel-2.6.22-layer7-2.14.patch # cd /usr/src/iptables # patch -p1 &lt; /usr/src/netfilter-layer7-v2.14/iptables-for-kernel-2.6.20forward-layer7-2.14.patch # cd /usr/src/linux # make menuconfig Neste ponto, é necessário selecionar o Layer7 para posterior compilação junto com o kernel. Então, navegue com o teclado até a opção: Networking Networking Options Network packet filtering framework (Netfilter) Core Netfilter Configuration Ao encontrar a opção &lt; &gt; “layer7&quot; match support, marque-a com um M, e a que vem logo abaixo dela, com um asterisco, ficando assim: &lt;M&gt; “layer7&quot; match support [*] Layer 7 debugging output Salve e saia do menuconfig. Passo 5 – Compilar o kernel # make dep # make clean # make bzImage # make modules # make modules_install # make install Após a compilação, reinicie a máquina e selecione o kernel novo compilado, pois o kernel antigo e o padrão de boot. Passo 6 – Definir permissões e compilar o iptables. # chmod 755 extensions/.layer7-test # make KERNELDIR=/usr/src/linux # make KERNELDIR=/usr/src/linux install Passo 7 – Se necessário, habilitar o módulo no kernel. # modprobe ipt_layer7 Agora basta efetuar a criação do Pattern de consulta e aplicar a regra no iptables. Conteúdo do arquivo “/etc/l7-protocols/protocols/terra.pat” terra terra.com* Regra do iptables iptables -I FORWARD -m layer7 --l7proto terra -s any/0 -p TCP --sport 1024:65535 --dport 80  -j DROP Aker Firewall x Linux O kernel do Linux e o iptables não implementam em modo nativo a funcionalidade de filtragem em camada de aplicação.Dessa forma, há a necessidade de utilizar um módulo de terceiros anexo ao iptables e ao kernel do Linux para habilitar essa funcionalidade, além de haver a necessidade de efetuar a recompilação do kernel. No entanto, como afirma KROAH-HARTMAN (2007, p. ix), esse pocesso de recompilação é um processo incompreensível para a maioria das pessoas. O Aker implementa de forma nativa a filtragem de aplicação de forma intuitiva e de rápida aplicação, bastando apenas criar o filtro e a regra de filtragem de aplicação desejada. Indo além dessa configuração trivial, é possível com o Aker configurar nessa mesma regra de filtragem de aplicação que essa conexão seja policiada com QoS. 3. Conclusão Observou-se neste estudo que a informação é um bem valioso para a empresa, assim como seus ativos físicos, merecendo uma atenção no tocante a segurança dessa informação. Aprofundando-se no ambiente da segurança de informação, este estudo demonstra que a segurança da informação está baseada em 3 pilares bases: confidencialidade, integridade e disponibilidade, sendo que quando se retira um desses pilares, acontece o que se conceitua como incidente de segurança da informação. Quando se fala de incidente de segurança, logo se imagina um ataque hacker. Porém, há outros incidentes que também são prejudiciais ao ambiente corporativo, como o acesso indevido de colaboradores a recursos computacionais, sendo eles internos ou externos, e de colaboradores tentando burlar o sistema de proteção e filtragem HTTP, MSN, e-mail e outros. Essas e outras atividades que caracterizam uma tentativa de ataque podem evoluir para um incidente e precisam ser tratadas, através de uma política de segurança que utilizará ferramentas para evitar um incidente de segurança. Nesse escopo, há algumas ferramentas importantes para controlar esses acessos, como os firewalls e proxies. Hoje, há no mercado, uma grande variedade de softwares de firewall e proxy, sendo que alguns deles se integram em um único produto e outros trabalham de forma independente. Neste cenário, um dos sistemas mais utilizados para esses fins é o Linux, por ser, aparentemente, um recurso mais acessível, já que não há o custo de licenças. Porém, recentemente, um estudo dirigido pela Microsoft mostrou que o custo de licenciamento corresponde a 5% do custo efetivo total de um servidor (FOLHA, 2002) e que há custos, muitas vezes não contabilizados, como o valor da hora de trabalho do profissional que administra esses equipamentos na empresa. A administração de um sistema de proteção de segurança de informação como um firewall e proxy baseado em Linux, demanda do profissional não só um conhecimento na tecnologia, mas também um profundo conhecimento do sistema operacional Linux. Outra desvantagem desse tipo de sistema, é a falta de padronização, pois cada distribuição Linux tem uma metodologia de implementação e cada profissional tem sua própria metodologia de implementação. É importante ressaltar que os sistemas Linux são tecnicamente ótimos produtos e utilizados em larga escala, porém, geralmente, não há uma preocupação em se ter uma boa produtividade e clareza das configurações no momento de sua gestão. Objetivando ilustrar o ganho de clareza, ou seja, o entendimento da metodologia de implementação e funcionalidade dos recursos de um firewall e Proxy, bem como o ganho de produtividade em suas 5 abordagens definidas por PARKINSON, este estudo efetuou a comparação da metodologia de implementação de 3 atividades distintas entre o Firewall Aker e sistemas baseado em Linux. Porém, sugere-se uma continuidade deste estudo com algumas outras comparações, todas elas possíveis de serem implementadas de forma simples e objetiva no firewall Aker: Regras de liberação e bloqueios de site com autenticação aplicando perfil de navegação distinto para grupos de usuários; Aplicação de quota de navegação por tempo e/ou tráfego HTTP e MSN; Aplicação de QoS por categorias/lista de sites; Regras de firewall e Proxy com habilitação automática tendo como base dias e horários da semana; Bloqueios por tipo de navegador; Reescrita de URL; Aplicação de Proxy MSN com filtragem por domínios, e-mails, aplicativos liberados e transferência de arquivos; Implementação em modo cluster com replicação automática das configurações entre os nós do cluster. Em termos de clareza no entendimento da função de uma determinada regra, o firewall Aker tem uma vantagem considerável, pois sua console de gerenciamento é uma console gráfica podendo trabalhar em dois idiomas (português e inglês), não necessitando o conhecimento profundo em comandos e estrutura do sistema operacional base. Nas três comparações efetuadas, pode-se observar que em cada uma delas foi utilizado um aplicativo diferente. Dessa forma, configurações distintas puderam ser aplicadas de forma distinta, dependendo do administrador desse sistema. Na terceira comparação, houve a necessidade de efetuar a compilação do Kernel do Linux a qual nem sempre é um processo intuitivo. como afirma KROAH-HARTMAN (2007, p. ix): “A compilação do Kernel Linux parece simples para quem está familiarizado, porém é incompreensível para a maioria das pessoas, pois não há um local onde toda a informação necessária para este processo é encontrada de forma clara e objetiva”. Neste estudo, pode-se, então, implementar todas as funcionalidades propostas nos dois produtos estudados, porém no firewall Aker houve um ganho de produtividade e clareza da aplicabilidade das regras e filtros propostos. Referencias Bibliográficas AKER, Security Solutions, Manual de treinamento: Aker Firewall 6.1. Disponível em: &lt; http://www1.aker.com.br/005/00502001.asp?ttCD_CHAVE=22239&gt;. Acesso em: 13 mar. 2010. ABNT NBR ISO/IEC 27002:2005, Código de prática para a gestão da segurança da informação BALLIACHE, Leonardo, Linux Queuing Disciplines. Disponível em: &lt;http://www.opalsoft.net/qos/DS.htm&gt;. Acesso em: 13 mar. 2010 CAMPOS, André L. N., Sistema de Segurança da Informação: Controlando os Riscos. ed. Florianópolis: Campus, 2006. CARVALHO, Gustavo, Qualidade de Serviços para Gateways Linux (QoS). Disponível em: &lt;http://www.vivaolinux.com.br/artigo/Qualidade-de-Servicos-para-Gateways-Linux-(QoS)&gt;. Acesso em: 13 mar. 2010 CHIAVENATO, I., Gestão de Pessoas: o novo papel dos recursos humanos nas organizações. ed. Rio de Janeiro: Campus, 1999. CISCO, Networking Academy – Semestre 2 do CCNA v.2.1. 2000. DAVENPORT, T. H. Ecologia da informação: por que só a tecnologia não basta para o sucesso na era da informação. ed. São Paulo : Futura, 1998 DUSSIN, Marco e FERRO, Nicola, The Role of the DIKW Hierarchy in the Design of a Digital Library System for the Scientific Data of Large-Scale Evaluation Campaigns. Disponível em: &lt;http://www.ieee-tcdl.org/Bulletin/v5n1/Dussin/dussin2.html&gt;. Acesso em: 13 mar. 2010. FOLHA, Microsoft diz que o Windows é mais barato do que o Linux. Disponível em: &lt; http://www1.folha.uol.com.br/folha/informatica/ult124u11484.shtml&gt;. Acesso em: 13 mar. 2010. ISO/IEC 13335-1:2004, Information technology — Security techniques — Management of information and communications technology security — Part 1: Concepts and models for information and communications technology security management JAKOBSON, Roman, Linguistica e Comunicação. ed. São Paulo: Cultrix, 2001. KROAH-HARTMAN, Greg, Linux Kernel in a Nutshell, ed. Estados Unidos: O’Reilly, 2007. MACEDO, Mariano de Matos, Gestão da produtividade nas empresas, ed. Curitiba: revista FAE Bussines n. 3 set, 2002. MICHAELIS, Dicionário, Moderno Dicionário da Língua Portuguesa. Disponível em: &lt;http://michaelis.uol.com.br/ &gt;. Acesso em: 11 mar. 2010. MOTA, J. E., Firewall com IPTABLES: Disponível em:  &lt;http://www.eriberto.pro.br/iptables/3.html&gt;. Acesso em: 13 mar. 2010. NAKAMURA, Emilio Tissato e GEUS, Paulo Licio, Segurança de redes em ambientes cooperativos, ed. São Paulo: Futura, 2003. PARKINSON, John, The Pursuit of Productivity, CIOInsight 01 abril, 2004. ROBERTO, Gustavo, Implementando Iptables Layer 7 no Fedora Core 7 e 8. Disponível em: &lt; http://www.gustavoroberto.blog.br/2007/12/09/implementando-iptables-layer-7-no-fedora-core-7-e-8/&gt;. Acesso em: 13 mar. 2010. SÊMOLA, Marcos, Gestão da Segurança da Informação: uma visão executiva. ed. Rio de Janeiro: Campus, 2003. SETZER, Valdemar W., Dado, Informação, Conhecimento e Competência. Disponível em: &lt; http://www.ime.usp.br/~vwsetzer/dado-info.html &gt;. Acesso em: 13 mar. 2010. WESSELS, Duane, Web Caching, ed. Estados Unidos: O’Reilly, 2001. [1] A informação é elemento essencial para todos os processos de negócio da organização, sendo, portanto, um bem ou ativo de grande valor. CAMPOS (2006, p. 9) [2] Relação adaptada pelo autor, visando focar no objeto deste estudo, tendo como fonte CAMPOS (2006, p. 11 e 12) [3] Este termo é patenteado pela Check Point Software Technologies Ltda. [4] http://l7-filter.sourceforge.net [5] Segue o link para download dos pacotes, Acesso em: 13 mar 2010: http://www.kernel.org/pub/linux/kernel/v2.6/linux-2.6.23.tar.bz2 http://www.netfilter.org/projects/iptables/files/iptables-1.3.8.tar.bz2 http://ufpr.dl.sourceforge.net/sourceforge/l7-filter/l7-protocols-2007-11-22.tar.gz http://ufpr.dl.sourceforge.net/project/l7-filter/l7-filter%20kernel%20version/2.14/netfilter-layer7-v2.14.tar.gz" /><link rel="canonical" href="https://www.helviojunior.com.br/it/security/clareza-e-produtividade-na-gestao-do-firewall-aker-6-1/" /><meta property="og:url" content="https://www.helviojunior.com.br/it/security/clareza-e-produtividade-na-gestao-do-firewall-aker-6-1/" /><meta property="og:site_name" content="Helvio Junior" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2012-03-07T02:29:00-03:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Clareza e produtividade na gestão do Firewall Aker 6.1" /><meta name="twitter:site" content="@helvioju" /><meta name="twitter:creator" content="@Helvio Junior (m4v3r1ck)" /><meta name="google-site-verification" content="JR4IIP9jfvOwxn2ybV_Qn0SrtDPlTrKomdPWgBuP55k"" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Helvio Junior (m4v3r1ck)"},"dateModified":"2023-08-17T00:19:29-03:00","datePublished":"2012-03-07T02:29:00-03:00","description":"Este post é a publicação do meu trabalho de conclusão de curso de Especialização em Redes e Segurança de Sistemas realizado na Pontifícia Universidade Católica do Paraná em março de 2010 Este estudo objetiva demonstrar o ganho de produtividade e clareza na gestão da segurança periférica corporativa, utilizando o Aker Firewall. A motivação inicial deste estudo baseia-se na dificuldade de se encontrar um padrão metodológico de implementação dos recursos de segurança periférica em produtos Linux e de se ter o nível técnico e o tempo necessários para a gestão dessas atividades. 1.      Conceitos relacionados 1.1. A segurança da informação Quando se fala em segurança de informação, é imprescindível entender, primeiramente, o que é informação e qual a sua importância para a empresa. A definição desse termo nem sempre é a mesma nas diversas áreas de trabalho, mas há semelhanças que são difundidas. Uma delas, é a figura a seguir intitulada “pirâmide do conhecimento”: Figura1: Pirâmide do conhecimento Nessa representação, baseada na pirâmide de DUSSIN E FERRO (2009), ―dado‖ seria “como uma seqüência de símbolos quantificados ou quantificáveis. Nesse sentido, um texto contendo letras, que são símbolos de um conjunto finito que é o alfabeto, pode constituir-se de uma base numérica e portanto é um dado. Também são dados, as fotos, as figuras, os sons gravados, pois todos podem ser quantificados.” SETZER (2002, p.1) De acordo com CHIAVENATO (1999, p. 366), a “informação é um conjunto de dados com um significado, ou seja, que reduz a incerteza ou que aumenta o conhecimento a respeito de algo”. Já o “conhecimento”, como definido por DAVENPORT (1998, p.19), “é a informação mais valiosa. É valiosa precisamente porque alguém deu à informação um contexto, um significado, uma interpretação”. A partir dessa definição, CAMPOS (2006, p. 3) afirma ainda que “a informação possui significado e causa impacto em grau menor ou maior, tornando-a o elemento essencial da extração e criação do conhecimento”. Dessa forma, o conhecimento pode ser considerado como a informação processada pelos indivíduos, ou seja, ele é adquirido pela utilização da informação na ação humana. Portanto, a informação é de grande importância para a geração do conhecimento. Nesse viés, CAMPOS (2006, p.4) define a informação como um valor para o negócio devido a sua importância nas tomada de decisões, estando ligada diretamente à geração de lucro. Tornando-se, assim, um bem, um ativo da organização, e como tal devendo ser protegido e preservado. Nesse escopo de proteção e preservação da informação, é importante definir e entender qual o significado de um sistema de segurança (proteção) da informação e quais são seus pilares e princípios que norteiam a implementação dessa prática. A norma NBR ISO/IEC 27002/2005 conceitua a segurança da informação como sendo a “preservação da confidencialidade, da integridade e da disponibilidade da informação”. Conforme ilustrado na figura 2, a segurança da informação está baseada em três pilares: 1) confidencialidade, 2) integridade, 3) disponibilidade. Essa norma afirma ainda que “adicionalmente, outras propriedades, tais como autenticidade, responsabilidade, não repúdio e confiabilidade, podem também estar envolvidas”. Figura 2: Pilares da segurança da informação Dessa forma, ao se quebrar um desses pilares, ocorre a quebra da segurança da informação ou, também chamada, incidente de segurança da informação. Para se obter um entendimento melhor desses pilares e as outras propriedades propostas pela NBR ISO/IEC 27002/2005, será utilizada a definição de SÊMOLA (2003, p. 45), de NBR ISO/IEC 27002/2005 e de ISO/IEC 13335-1:2004. Confidencialidade: toda informação deve ser protegida de acordo com o grau de sigilo de seu conteúdo, visando a limitação de seu acesso e uso apenas às pessoas para quem elas são destinadas. Integridade: toda informação deve ser mantida na mesma condição em que foi disponibilizada pelo seu proprietário, visando protegê-las contra alterações indevidas, intencionais ou acidentais. Disponibilidade: toda informação gerada ou adquirida por um indivíduo ou instituição deve estar disponível aos seus usuários no momento em que os mesmos dela necessitarem para qualquer finalidade. Autenticidade: a garantia de que o usuário, objeto ou recurso é quem diz ser. Responsabilidade: a capacidade de responsabilização de um usuário pelos atos cometidos. Não repúdio: garantia de uma ação, evento ou informação não poderá ser negada pelo seu autor. Confiabilidade: garantia de tolerância a falhas de um sistema de informação. No contexto de segurança de informação, há vulnerabilidades, que são fraquezas presentes nos ativos[1] de informação e que podem causar, intencionalmente ou não, a quebra de um ou mais dos três princípios de segurança da informação. (CAMPOS, 2006, p. 9). Podem-se relacionar as vulnerabilidades aos seguintes ativos de informação[2]: Tecnologias: Computadores sem proteção contra vírus, spywares e worms; Switches não protegidos com senha ou protegidos com a senha padrão de fábrica; Rede local acessível por senha padrão ou pública; Sistema de informação sem controle de acesso lógico; Acesso não controlado a recursos computacionais externos a rede corporativa (tendo como origem um equipamento interno). Pessoas e processos: A ausência de uma política institucional de segurança da informação dentro da organização; A inexistência de regulamentação para acesso à informação da organização por terceiros e prestadores de serviço; A ausência de procedimentos disciplinares para o tratamento das violações da política de segurança da informação; A ausência de regulamentação explícita quanto aos cuidados com a informação, do que é permitido ou não, tais como os procedimentos de compra ou desenvolvimento de sistemas de informação, a gestão das cópias de segurança, controle de versão e software, proteção contra softwares maliciosos, gerenciamento da rede local de computadores, gestão das mídias de armazenamento, uso do correio eletrônico, acesso à Internet, entre outros. Observa-se por essa breve relação que a segurança da informação não se limita no âmbito de informática, mas envolve toda a corporação. 1.2. Produtividade e clareza 1.2.1. Produtividade A produtividade tem se tornado fator diferencial entre o manter-se no mercado ou sucumbir. MACEDO (2002, p. 1) afirma que: “Atualmente, sem produtividade ou sem a eficiência do processo produtivo, dificilmente uma empresa vai ser bem-sucedida ou até mesmo sobreviver no mercado. Dado o acirramento da concorrência, a gestão da produtividade está se tornando um dos quesitos essenciais na formulação das estratégias de competitividade das empresas”. Um aumento de produtividade pode ser alcançado de várias maneiras, PARKINSON (2004, p. 1) listou 5 abordagens que podem ser aplicadas para o incremento de produtividade: Eliminar trabalho desnecessário; Eliminar retrabalho desnecessário; Reduzir a duração do esforço; Automatizar tudo que for possível; e Gerenciar a demanda. A Tecnologia da informação (doravante, TI) tem se mostrado uma importante ferramenta para o aumento de produtividade, inclusive englobando as 5 abordagens apontadas por PARKINSON. 1.2.2. Clareza Segundo o dicionário MICHAELIS (2009), clareza é “qualidade do que é claro ou inteligível”, “qualidade do que se percebe bem” e ainda “limpidez, transparência”. 1.3. Protocolo de comunicação O dicionário MICHAELIS (2009) conceitua protocolo como sendo o “conjunto de parâmetros que define como a transferência da informação vai ser controlada”. No entanto, antes de adentrarmos em detalhamentos técnicos dos protocolos de comunicação, observaremos a teoria básica da comunicação, conforme definida por JAKOBSON (2001, p. 14): “A teoria da comunicação parece-me uma boa escola para a Lingüística estrutural, assim como a Lingüística estrutural é uma escola útil para os engenheiros de comunicações. Penso que a realidade fundamental com que se tem de haver o lingüista é a interlocução — a troca de mensagens entre emissor e receptor, entre remetente e destinatário, entre codificador e decodificador”. JAKOBSON (2001) sugere, então, o seguinte esquema: Figura 3: Teoria da comunicação Observa-se na figura que toda comunicação é composta de uma fonte de dados que gera os dados de uma forma padrão, ou seja, em uma codificação, o emissor envia a mensagem ao receptor, que encaminha ao alvo (destino), que consegue interpretar estes dados por conhecer a codificação. Esta teoria aplica-se de forma geral a todas as metodologias de comunicação existentes e na informática isso não é diferente. Para que haja comunicação entre dois ou mais computadores é necessário um código de comunicação, aqui chamado protocolo de comunicação. O protocolo de comunicação mais utilizado em todo o mundo é o TCP/IP (Transfer Control Protocol / Internet Protocol). 1.3.1. TCP/IP “O conjunto de protocolos TCP/IP foi desenvolvido como parte da pesquisa feita pela Defense Advanced Research Projects Agency (DARPA). Ele foi originalmente desenvolvido para fornecer comunicação através da DARPA. Posteriormente, o TCP/IP foi incluído com o Berkeley Software Distribution da UNIX. Agora, o TCP/IP é de fato o padrão das comunicações de internetworks e serve como protocolo de transporte para a Internet, permitindo a comunicação de milhares de computadores no mundo todo” (CISCO, 2000). “A função da pilha, ou conjunto, TCP/IP é transferir informações de um dispositivo em rede para outro. Ao fazer isso, ela mapeia cuidadosamente o modelo de referência TCP/IP nas camadas inferiores e suporta todos os protocolos padrão físicos e de enlace de dados” (CISCO, 2000). “As camadas mais afetadas pelo conjunto TCP/IP são a camada 4 (aplicação), a camada 3 (transporte) e a camada 2 (rede). Outros tipos de protocolos, com várias finalidades/funções, todas relativas à transferência de informações, estão incluídos nessas camadas” (CISCO, 2000). Figura 4: Modelo TCP/IP O modelo TCP/IP é divido em camadas de forma a estar em conformidade com o modelo OSI. O Modelo em camadas é um modelo que efetua a separação teórico/prática da função e concorrência dos diversos protocolos. Basicamente, protocolos contidos em mesma camada são concorrentes, ou seja, não podem aparecer concomitantemente no mesmo pacote de comunicação. Já os protocolos de camadas distintas são complementares, devendo aparecer no mesmo pacote de comunicação. De forma simplificada e omitindo alguns campos para uma melhor compreensão, a figura 5 demonstra os campos de um pacote TCP/IP separado por camadas, bem como a ordem de empacotamento na pilha TCP/IP. Figura 5: Sequenciamento de empacotamento TCP/IP Para um melhor entendimento, a tabela abaixo demonstra alguns exemplos de protocolos em cada uma das camadas. Camada Protocolo Aplicação DNS, POP3, SMTP, SNMP, HTTP, HTTPS, FTP, TELNET e MSN Transporte TCP e UDP Rede IP, ICMP e ARP Física MAC Address, Ethernet e Frame Relay Tabela 1: Exemplos de protocolos por camada TCP/IP 1.4. Firewall Segundo CHESWICK e BELLOVIN apud NAKAMURA e GEUS (2003, p. 206), firewall é um ponto entre duas ou mais redes no qual circula todo o tráfego. A partir desse único ponto, é possível controlar e autenticar o tráfego. Já CHAPMAN apud NAKAMURA e GEUS (2003, p. 206) define firewall como sendo um componente ou conjunto de componentes que restringe o acesso entre uma rede protegida e a internet ou entre outros conjuntos de redes. Partindo dessas duas definições, observa-se que o firewall é o principal equipamento de ligação e controle entre duas ou mais redes, por onde passa todo o tráfego delas. Um sistema de firewall é composto por vários componentes sendo que cada qual desempenha uma funcionalidade, conforme listado e demonstrado por NAKAMURA e GEUS (2003, p. 208). As quatro primeiras funcionalidades seriam os filtros, proxies, bastion hosts e zonas desmilitarizadas. Porém, com a evolução das necessidades de segurança, foram inseridas ainda neste contexto o Network Address Translation  - NAT, a Rede privada Virtual  - VPN e a autenticação/certificação. Para se manter de acordo com o objetivo deste estudo, somente os itens filtros e proxies serão detalhados. 1.4.1 Filtros Os filtros são responsáveis por efetuar o controle de pacotes que entram e saem do firewall, na maioria das vezes efetuando o roteamento dos mesmos. O filtro geralmente efetua a análise atuando na camada de rede e de transporte do modelo TCP/IP comparando os dados do cabeçalho do pacote, tais como endereço de origem, endereço de destino, porta de origem, porta de destino, flags e protocolo, com um conjunto de regras estáticas. Segundo NAKAMURA e GEUS (2003, p. 215), esse tipo de firewall é conhecido como static packet filtering. Porém, esse tipo de filtragem é vulnerável a diversos tipos de ataques e não se torna compatível com alguns protocolos de camada de aplicação como FTP, RPC e H.323, pois esses utilizam dois ou mais canais de comunicação ou portas dinâmicas (NAKAMURA e GEUS, 2003, p. 215). Visando solucionar esses e outros problemas e prover uma filtragem mais efetiva e dinâmica, aumentando desta forma a segurança, a Check Point criou o conceito Stateful Inspection[3]. Stateful inspection (também conhecido como dynamic packet filtering) toma as decisões de filtragem tendo como referência os seguintes elementos: As informações dos cabeçalhos dos pacotes, igual o static packet filtering; Informações recuperadas, armazenadas e manipuladas de todas as camadas do modelo TCP/IP da comunicação corrente ou de outras comunicações. Como por exemplo, o comando de porta de saída de uma sessão FTP; Informações provenientes de outros aplicativos, como por exemplo, um usuário autenticado tendo acesso a serviços autorizados; 1.4.2. Caching Antes de falar em proxies é importante se falar em caching, pois muitos autores erroneamente definem Proxy como sendo igual à cache que, no entanto, são serviços distintos. Segundo WESSELS (2001, p. 1), o termo cache é um termo francês que significa, literalmente, armazenar. Ao se tratar de tecnologia da informação, caching se refere ao armazenamento de informações recentemente recuperadas para futura referência e utilização. As informações podem ou não serem utilizadas novamente, fazendo com que o cache seja benéfico somente quando o custo computacional de armazenar a informação for inferior ao custo de recuperar ou calcular as informações novamente. Atualmente, o caching é utilizado em várias áreas dentro da computação, como em processadores, sistemas operacionais e outros. Já os serviços para a internet que atualmente mais se utilizam de cache são o HTTP e DNS. 1.4.3. Proxies Proxies são aplicativos que realizam filtragens mais apuradas em camada de aplicação. Por trabalhar em camada de aplicação, é exigido um código (aplicativo) para cada serviço a ser filtrado. Atualmente, há basicamente dois tipos de proxies, o ativo e o transparente. A principal distinção entre eles é que o ativo necessita de uma personalização dos aplicativos clientes para que se efetue a solicitação do serviço desejado ao proxy e o transparente não precisa da personalização, pois o cliente efetua a solicitação de serviço diretamente ao servidor final e é o firewall que redireciona a solicitação do cliente para o proxy. Em ambos, porém, é o servidor de proxy que efetua a requisição ao servidor final e retorna o resultado ao cliente. Alguns serviços de proxy existentes no mercado implementam a funcionalidade de caching como é o exemplo do Squid e o Microsoft Isa Server. 2. Estudo de caso: Aker Firewall x Ferramentas OpenSource (Linux) 2.1. Por que esses produtos? 2.1.1. Linux A escolha do Linux para este estudo se deve ao fato desse sistema se constituir em um dos sistemas operacionais mais utilizados para servidores em geral. A distribuição do Linux escolhida para este estudo foi a da Fedora em sua versão 8. A escolha dessa distribuição e versão se baseia na familiaridade do pesquisador. 2.1.2. Aker Firewall A escolha desse produto foi feita devido ao fato de ser um produto 100% nacional, com qualidade e robustez que o coloca na mesma categoria que os melhores produtos deste ramo no mercado, como Firewall 1 da Checkpoint. A versão escolhida para este estudo foi a 6.1, por ser a versão comercializada no período deste estudo. 2.2. Escopo deste estudo Este estudo limitar-se-á em comparar as metodologias de implementação de algumas funcionalidades do Aker Firewall com produtos que implementam as mesmas funcionalidades no Linux, tendo como premissa a disponibilidade de somente um hardware para a implementação de cada produto, sem a utilização de máquinas virtuais para aproveitamento do mesmo hardware. Este estudo não tem a pretensão de exaurir todos os recursos dos dois produtos. Neste, será demonstrada a configuração passo-a-passo para implementação de cada funcionalidade nos produtos, demonstrando telas e arquivos de configuração quando necessários. As funcionalidades comparadas neste estudo são: Regras de filtragem na camada de transporte; Implementação de QoS; Criação de filtros personalizados em camada de aplicação. 2.3. Ambiente A figura 6 apresenta o detalhamento do ambiente montado para as comparações técnicas. Figura 6: Ambiente técnico de implementação 2.4. Comparação de funcionalidades 2.4.1. Regras de filtragem na camada de transporte Para esta comparação, serão criadas 3 regras em cada um dos firewalls: Liberação da rede interna para acessar HTTP e HTTPS tendo como destino qualquer faixa de IP; Liberação da rede interna para acessar DNS e MSN tendo como destino qualquer faixa de IP; Bloqueia o restante dos pacotes. Serviço Porta Protocolo HTTP 80 TCP HTTPS 443 TCP DNS 53 UDP MSN 1863 TCP Tabela 2: Descrição de serviços x porta e protocolo Aker Firewall O Aker é um produto orientado a objetos, por isso para poder criar qualquer regra, se faz necessário criar os objetos que fazem a representação do mundo real para o produto, os quais são chamados de entidade. A figura 7 mostra quais os tipos de entidades aceitas no produto. Figura 7: Lista de tipos de entidade Para a criação das regras solicitadas, será necessário criar 6 etidades que serão demonstradas na figura 8. 1) Rede interna, 2) internet, 3) HTTP, 4) HTTPS, 5) DNS, 6) MSN Messenger. Figura 8: Entidades criadas para as regras desta comparação Após a criação das entidades, basta criar as regras, conforme demonstrado na figura 9. Observa-se que o item 3 desta comparação, “bloqueio do restante dos pacotes”, não foi criado. Isso se deve ao fato de que, por padrão, o firewall Aker descarta todos os pacotes, considerando apenas as regras criadas. Observa-se também que não há a necessidade de criar regras de retorno dos pacotes, pois o Aker é stateful inspection. Figura 9: Regras de filtragem aplicadas no Aker Firewall Linux Para a criação das regras, foi utilizado o aplicativo IPTABLES que vem habilitado por padrão na distribuição escolhida. Para facilitar a aplicação das regras, serão criadas todas em um arquivo Shell. Dessa forma, a primeira linha do arquivo em questão será “#!/bin/sh”. Logo após esta linha, serão colocados os comandos IPTABLES. O primeiro comando iptables a ser aplicado efetua a limpeza de todas as regras a fim de evitar que regras antigas ou aplicadas por outros scripts possam influenciar neste equipamento. O comando de limpeza é “iptables --flush”. Após a limpeza de todas as regras, faz-se necessário definir a regra padrão do IPTABLES, as quais serão definidas com os comandos “iptables -P INPUT DROP”, “iptables -P OUTPUT DROP” e “iptables -P FORWARD DROP”. As regras de bloqueio estão definidas, sendo necessário começar, então, a criar as regras de liberação. As primeiras regras de liberação que serão criadas são as que permitem os pacotes de conexões pré-estabelecidas. Em seguida, será criada a regra que libera todos os pacotes em loopback. As regras são: “iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT”, “iptables -A OUTPUT -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT”, “iptables -A FORWARD -m state --state ESTABLISHED,RELATED -j ACCEPT” e “iptables -A INPUT -i lo -j ACCEPT”. Antes de criar as regras específicas solicitadas pela atividade será adicionado um comando para habilitar no kernel do Linux o encaminhamento de pacotes, para que este faça a funcionalidade de roteador “echo 1 &gt; /proc/sys/net/ipv4/ip_forward”. A partir desse ponto, podem-se criar as regras de liberação específicas solicitadas pela atividade, conforme demonstrado abaixo: Liberação do HTTP: iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 80 -j ACCEPT Liberação do HTTPS: iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 443 -j ACCEPT Liberação do MSN: iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 1863 -j ACCEPT Liberação do DNS: iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p UDP --sport 1024:65535 --dport 53 -j ACCEPT Segue abaixo o arquivo Shell agrupando todas as regras demonstradas acima em um único arquivo nomeado fw.sh. [sourcecode language=&quot;bash&quot;] #!/bin/sh # Limpa as regras atuais iptables --flush # Regra padrão (Bloqueia tudo) iptables -P INPUT DROP iptables -P OUTPUT DROP iptables -P FORWARD DROP # Libera os retornos de stados e pacotes de saida iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT iptables -A OUTPUT -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT iptables -A FORWARD -m state --state ESTABLISHED,RELATED -j ACCEPT # Liberando tudo da Loopback iptables -A INPUT -i lo -j ACCEPT # Libera forward e adiciona as rotas echo 1 &gt; /proc/sys/net/ipv4/ip_forward # Regra 1 – Libera o acesso HTTP e HTTPS iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 80 -j ACCEPT iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 443 -j ACCEPT # Regra 2 – Libera o acesso DNS e MSN iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 1863 -j ACCEPT iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p UDP --sport 1024:65535 --dport 53 -j ACCEPT [/sourcecode] Aker Firewall x Linux Pode-se observar nessa comparação que devido à utilização de uma interface gráfica, a configuração no Aker fica mais intuitiva ao administrador, dando-lhe a clareza das configurações por se aproximar com o desenho de seu ambiente. Dessa forma, o administrador tem um ganho de produtividade com a redução do tempo de implementação e gestão das regras de filtragem. 2.4.2. Implementação de QoS Para esta comparação, deverá ser implementado um QoS de 2 Mbps simétrico, ou seja, de download e upload, para os protocolos HTTP e HTTPS. Aker Firewall Para a implementação do QoS no Aker, será criada uma entidade do tipo “Canal”, conforme a figura 10. Após a criação da entidade, serão aproveitadas as mesmas regras de filtragem criadas na comparação anterior e será inserido o canal na regra necessária, conforme mostrado na figura 11. Figura 10: Entidade do tipo canal Figura 11: Regras de filtragem aplicadas no Aker Firewall com QoS Linux Para a criação do QoS foi utilizado o aplicativo tc, que também está instalado por padrão na distribuição escolhida. O tc aplica as políticas de QoS com base nos pacotes de saída da placa física da máquina. Dessa forma, faz-se necessária a criação de duas políticas distintas, uma para upload de pacotes e outra para download. Para uma melhor compreensão dos comandos, a figura 12, criada por BALLIACHE, ilustra a sequência de ligação entre os elementos do tc. Figura 12: Elementos do TC Os elementos definidos pelo tc são os seguintes: Queuing Disciplines = qdisc Algoritmos que controlam o enfileiramento e envio de pacotes. Classes Representam “entidades de classificação de pacotes”. Filters Utilizados para policiar e classificar os pacotes e atribuí-los as classes. Policers Utilizados para evitar que o tráfego associado a cada filtro ultrapasse limites pré-definidos. Política de upload: Exclusão da qdisc principal e todos os objetos vinculados: tc qdisc del dev eth0 root Criação da qdisc principal: tc qdisc add dev eth0 handle 1:0 root htb Criação da classe: tc class add dev eth0 parent 1:0 classid 1:1 htb rate 128kbps Criação da qdisc da classe: tc qdisc add dev eth0 parent 1:1 handle 10:0 pfifo limit 10 Aplicação dos filtros: tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 80 0xfff flowid 1:1 tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 443 0xfff flowid 1:1   Política de download: Exclusão da qdisc principal e todos os objetos vinculados: tc qdisc del dev eth1 root Criação da qdisc principal: tc qdisc add dev eth1 handle 2:0 root htb Criação da classe: tc class add dev eth1 parent 2:0 classid 2:1 htb rate 2048kbps Criação da qdisc da classe: tc qdisc add dev eth1 parent 2:1 handle 30:0 pfifo limit 10 Aplicação dos filtros: tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 80 0xfff flowid 2:1 tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 443 0xfff flowid 2:1   Segue abaixo o arquivo Shell agrupando todas as regras demonstradas acima. Este foi nomeado como qos.sh [sourcecode language=&quot;bash&quot;] #!/bin/bash&lt;/p&gt; # POLITICA DE UPLOAD (eth0) tc qdisc del dev eth0 root tc qdisc add dev eth0 handle 1:0 root htb tc class add dev eth0 parent 1:0 classid 1:1 htb rate 128kbps tc qdisc add dev eth0 parent 1:1 handle 10:0 pfifo limit 10 tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 80 0xfff flowid 1:1 tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 443 0xfff flowid 1:1 # POLITICA DE DOWNLOAD (eth1) tc qdisc del dev eth1 root tc qdisc add dev eth1 handle 2:0 root htb tc class add dev eth1 parent 2:0 classid 2:1 htb rate 2048kbps tc qdisc add dev eth1 parent 2:1 handle 30:0 pfifo limit 10 tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 80 0xfff flowid 2:1 tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 443 0xfff flowid 2:1 [/sourcecode] Aker Firewall x Linux Tendo como foco a clareza no entendimento da aplicação das funcionalidades, o tc se mostrou pouco favorável, demandando um tempo maior do administrador no entendimento dos comandos, aplicação e gestão dessa regra de QoS. Em contrapartida, o Aker aproveitou um ambiente já montado e de fácil compreensão ao administrador para implementar a regra de QoS. 2.4.3. Criação de filtros personalizados em camada de aplicação. O objetivo deste teste é comparar a capacidade dos dois produtos em realizar filtro específico (criado pelo administrador) em camada de aplicação, para liberação ou bloqueio de uma conexão. Aker firewall Para a implementação de um filtro em camada de aplicação, é necessário criar um filtro com um texto personalizado que se deseja buscar nos pacotes, conforme demonstrado na figura 13, e posteriormente aplicá-lo em uma regra de filtragem de aplicações, conforme demonstrado na figura 14. Figura 13: Criação do filtro de aplicações Figura 14: Criação da regra de filtragem de aplicações Linux Para a criação deste tipo de filtragem no Linux, é necessário recompilar o Kernel e o iptables com o módulo Layer7[4]. Para a compilação do kernel e iptables foi utilizado o artigo de ROBERTO (2007), conforme segue abaixo: Passo 1 – Download dos pacotes[5]: linux-2.6.23.tar.bz2 iptables-1.3.8.tar.bz2 l7-protocols-2007-11-22.tar.gz netfilter-layer7-v2.14.tar.gz Passo 2 – remoção do Iptables # yum remove iptables Passo 3 – Descompactar os pacotes em /usr/src # cd /usr/src # tar xjvf linux-2.6.23.tar.bz2 # tar xjvf iptables-1.3.8.tar.bz2 # tar xzvf netfilter-layer7-v2.14.tar.gz # tar xzvf l7-protocols-2007-11-22.tar.gz # mkdir /etc/l7-protocols # cp -a /usr/src/l7-protocols-2007-11-22/protocols/ /etc/l7-protocols/ Passo 4 – Criar links simbólicos # ln -s /usr/src/linux-2.6.23 /usr/src/Linux # ln -s /usr/src/iptables-1.3.8 /usr/src/iptables Passo 5 – Aplicar os patchs no kernel e no iptables e configurar o layer7 # cd /usr/src/linux # patch -p1 &lt; /usr/src/netfilter-layer7-v2.14/kernel-2.6.22-layer7-2.14.patch # cd /usr/src/iptables # patch -p1 &lt; /usr/src/netfilter-layer7-v2.14/iptables-for-kernel-2.6.20forward-layer7-2.14.patch # cd /usr/src/linux # make menuconfig Neste ponto, é necessário selecionar o Layer7 para posterior compilação junto com o kernel. Então, navegue com o teclado até a opção: Networking Networking Options Network packet filtering framework (Netfilter) Core Netfilter Configuration Ao encontrar a opção &lt; &gt; “layer7&quot; match support, marque-a com um M, e a que vem logo abaixo dela, com um asterisco, ficando assim: &lt;M&gt; “layer7&quot; match support [*] Layer 7 debugging output Salve e saia do menuconfig. Passo 5 – Compilar o kernel # make dep # make clean # make bzImage # make modules # make modules_install # make install Após a compilação, reinicie a máquina e selecione o kernel novo compilado, pois o kernel antigo e o padrão de boot. Passo 6 – Definir permissões e compilar o iptables. # chmod 755 extensions/.layer7-test # make KERNELDIR=/usr/src/linux # make KERNELDIR=/usr/src/linux install Passo 7 – Se necessário, habilitar o módulo no kernel. # modprobe ipt_layer7 Agora basta efetuar a criação do Pattern de consulta e aplicar a regra no iptables. Conteúdo do arquivo “/etc/l7-protocols/protocols/terra.pat” terra terra.com* Regra do iptables iptables -I FORWARD -m layer7 --l7proto terra -s any/0 -p TCP --sport 1024:65535 --dport 80  -j DROP Aker Firewall x Linux O kernel do Linux e o iptables não implementam em modo nativo a funcionalidade de filtragem em camada de aplicação.Dessa forma, há a necessidade de utilizar um módulo de terceiros anexo ao iptables e ao kernel do Linux para habilitar essa funcionalidade, além de haver a necessidade de efetuar a recompilação do kernel. No entanto, como afirma KROAH-HARTMAN (2007, p. ix), esse pocesso de recompilação é um processo incompreensível para a maioria das pessoas. O Aker implementa de forma nativa a filtragem de aplicação de forma intuitiva e de rápida aplicação, bastando apenas criar o filtro e a regra de filtragem de aplicação desejada. Indo além dessa configuração trivial, é possível com o Aker configurar nessa mesma regra de filtragem de aplicação que essa conexão seja policiada com QoS. 3. Conclusão Observou-se neste estudo que a informação é um bem valioso para a empresa, assim como seus ativos físicos, merecendo uma atenção no tocante a segurança dessa informação. Aprofundando-se no ambiente da segurança de informação, este estudo demonstra que a segurança da informação está baseada em 3 pilares bases: confidencialidade, integridade e disponibilidade, sendo que quando se retira um desses pilares, acontece o que se conceitua como incidente de segurança da informação. Quando se fala de incidente de segurança, logo se imagina um ataque hacker. Porém, há outros incidentes que também são prejudiciais ao ambiente corporativo, como o acesso indevido de colaboradores a recursos computacionais, sendo eles internos ou externos, e de colaboradores tentando burlar o sistema de proteção e filtragem HTTP, MSN, e-mail e outros. Essas e outras atividades que caracterizam uma tentativa de ataque podem evoluir para um incidente e precisam ser tratadas, através de uma política de segurança que utilizará ferramentas para evitar um incidente de segurança. Nesse escopo, há algumas ferramentas importantes para controlar esses acessos, como os firewalls e proxies. Hoje, há no mercado, uma grande variedade de softwares de firewall e proxy, sendo que alguns deles se integram em um único produto e outros trabalham de forma independente. Neste cenário, um dos sistemas mais utilizados para esses fins é o Linux, por ser, aparentemente, um recurso mais acessível, já que não há o custo de licenças. Porém, recentemente, um estudo dirigido pela Microsoft mostrou que o custo de licenciamento corresponde a 5% do custo efetivo total de um servidor (FOLHA, 2002) e que há custos, muitas vezes não contabilizados, como o valor da hora de trabalho do profissional que administra esses equipamentos na empresa. A administração de um sistema de proteção de segurança de informação como um firewall e proxy baseado em Linux, demanda do profissional não só um conhecimento na tecnologia, mas também um profundo conhecimento do sistema operacional Linux. Outra desvantagem desse tipo de sistema, é a falta de padronização, pois cada distribuição Linux tem uma metodologia de implementação e cada profissional tem sua própria metodologia de implementação. É importante ressaltar que os sistemas Linux são tecnicamente ótimos produtos e utilizados em larga escala, porém, geralmente, não há uma preocupação em se ter uma boa produtividade e clareza das configurações no momento de sua gestão. Objetivando ilustrar o ganho de clareza, ou seja, o entendimento da metodologia de implementação e funcionalidade dos recursos de um firewall e Proxy, bem como o ganho de produtividade em suas 5 abordagens definidas por PARKINSON, este estudo efetuou a comparação da metodologia de implementação de 3 atividades distintas entre o Firewall Aker e sistemas baseado em Linux. Porém, sugere-se uma continuidade deste estudo com algumas outras comparações, todas elas possíveis de serem implementadas de forma simples e objetiva no firewall Aker: Regras de liberação e bloqueios de site com autenticação aplicando perfil de navegação distinto para grupos de usuários; Aplicação de quota de navegação por tempo e/ou tráfego HTTP e MSN; Aplicação de QoS por categorias/lista de sites; Regras de firewall e Proxy com habilitação automática tendo como base dias e horários da semana; Bloqueios por tipo de navegador; Reescrita de URL; Aplicação de Proxy MSN com filtragem por domínios, e-mails, aplicativos liberados e transferência de arquivos; Implementação em modo cluster com replicação automática das configurações entre os nós do cluster. Em termos de clareza no entendimento da função de uma determinada regra, o firewall Aker tem uma vantagem considerável, pois sua console de gerenciamento é uma console gráfica podendo trabalhar em dois idiomas (português e inglês), não necessitando o conhecimento profundo em comandos e estrutura do sistema operacional base. Nas três comparações efetuadas, pode-se observar que em cada uma delas foi utilizado um aplicativo diferente. Dessa forma, configurações distintas puderam ser aplicadas de forma distinta, dependendo do administrador desse sistema. Na terceira comparação, houve a necessidade de efetuar a compilação do Kernel do Linux a qual nem sempre é um processo intuitivo. como afirma KROAH-HARTMAN (2007, p. ix): “A compilação do Kernel Linux parece simples para quem está familiarizado, porém é incompreensível para a maioria das pessoas, pois não há um local onde toda a informação necessária para este processo é encontrada de forma clara e objetiva”. Neste estudo, pode-se, então, implementar todas as funcionalidades propostas nos dois produtos estudados, porém no firewall Aker houve um ganho de produtividade e clareza da aplicabilidade das regras e filtros propostos. Referencias Bibliográficas AKER, Security Solutions, Manual de treinamento: Aker Firewall 6.1. Disponível em: &lt; http://www1.aker.com.br/005/00502001.asp?ttCD_CHAVE=22239&gt;. Acesso em: 13 mar. 2010. ABNT NBR ISO/IEC 27002:2005, Código de prática para a gestão da segurança da informação BALLIACHE, Leonardo, Linux Queuing Disciplines. Disponível em: &lt;http://www.opalsoft.net/qos/DS.htm&gt;. Acesso em: 13 mar. 2010 CAMPOS, André L. N., Sistema de Segurança da Informação: Controlando os Riscos. ed. Florianópolis: Campus, 2006. CARVALHO, Gustavo, Qualidade de Serviços para Gateways Linux (QoS). Disponível em: &lt;http://www.vivaolinux.com.br/artigo/Qualidade-de-Servicos-para-Gateways-Linux-(QoS)&gt;. Acesso em: 13 mar. 2010 CHIAVENATO, I., Gestão de Pessoas: o novo papel dos recursos humanos nas organizações. ed. Rio de Janeiro: Campus, 1999. CISCO, Networking Academy – Semestre 2 do CCNA v.2.1. 2000. DAVENPORT, T. H. Ecologia da informação: por que só a tecnologia não basta para o sucesso na era da informação. ed. São Paulo : Futura, 1998 DUSSIN, Marco e FERRO, Nicola, The Role of the DIKW Hierarchy in the Design of a Digital Library System for the Scientific Data of Large-Scale Evaluation Campaigns. Disponível em: &lt;http://www.ieee-tcdl.org/Bulletin/v5n1/Dussin/dussin2.html&gt;. Acesso em: 13 mar. 2010. FOLHA, Microsoft diz que o Windows é mais barato do que o Linux. Disponível em: &lt; http://www1.folha.uol.com.br/folha/informatica/ult124u11484.shtml&gt;. Acesso em: 13 mar. 2010. ISO/IEC 13335-1:2004, Information technology — Security techniques — Management of information and communications technology security — Part 1: Concepts and models for information and communications technology security management JAKOBSON, Roman, Linguistica e Comunicação. ed. São Paulo: Cultrix, 2001. KROAH-HARTMAN, Greg, Linux Kernel in a Nutshell, ed. Estados Unidos: O’Reilly, 2007. MACEDO, Mariano de Matos, Gestão da produtividade nas empresas, ed. Curitiba: revista FAE Bussines n. 3 set, 2002. MICHAELIS, Dicionário, Moderno Dicionário da Língua Portuguesa. Disponível em: &lt;http://michaelis.uol.com.br/ &gt;. Acesso em: 11 mar. 2010. MOTA, J. E., Firewall com IPTABLES: Disponível em:  &lt;http://www.eriberto.pro.br/iptables/3.html&gt;. Acesso em: 13 mar. 2010. NAKAMURA, Emilio Tissato e GEUS, Paulo Licio, Segurança de redes em ambientes cooperativos, ed. São Paulo: Futura, 2003. PARKINSON, John, The Pursuit of Productivity, CIOInsight 01 abril, 2004. ROBERTO, Gustavo, Implementando Iptables Layer 7 no Fedora Core 7 e 8. Disponível em: &lt; http://www.gustavoroberto.blog.br/2007/12/09/implementando-iptables-layer-7-no-fedora-core-7-e-8/&gt;. Acesso em: 13 mar. 2010. SÊMOLA, Marcos, Gestão da Segurança da Informação: uma visão executiva. ed. Rio de Janeiro: Campus, 2003. SETZER, Valdemar W., Dado, Informação, Conhecimento e Competência. Disponível em: &lt; http://www.ime.usp.br/~vwsetzer/dado-info.html &gt;. Acesso em: 13 mar. 2010. WESSELS, Duane, Web Caching, ed. Estados Unidos: O’Reilly, 2001. [1] A informação é elemento essencial para todos os processos de negócio da organização, sendo, portanto, um bem ou ativo de grande valor. CAMPOS (2006, p. 9) [2] Relação adaptada pelo autor, visando focar no objeto deste estudo, tendo como fonte CAMPOS (2006, p. 11 e 12) [3] Este termo é patenteado pela Check Point Software Technologies Ltda. [4] http://l7-filter.sourceforge.net [5] Segue o link para download dos pacotes, Acesso em: 13 mar 2010: http://www.kernel.org/pub/linux/kernel/v2.6/linux-2.6.23.tar.bz2 http://www.netfilter.org/projects/iptables/files/iptables-1.3.8.tar.bz2 http://ufpr.dl.sourceforge.net/sourceforge/l7-filter/l7-protocols-2007-11-22.tar.gz http://ufpr.dl.sourceforge.net/project/l7-filter/l7-filter%20kernel%20version/2.14/netfilter-layer7-v2.14.tar.gz","headline":"Clareza e produtividade na gestão do Firewall Aker 6.1","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.helviojunior.com.br/it/security/clareza-e-produtividade-na-gestao-do-firewall-aker-6-1/"},"url":"https://www.helviojunior.com.br/it/security/clareza-e-produtividade-na-gestao-do-firewall-aker-6-1/"}</script><title>Clareza e produtividade na gestão do Firewall Aker 6.1 | Helvio Junior</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Helvio Junior"><meta name="application-name" content="Helvio Junior"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/m4v3r1ck.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Helvio Junior</a></div><div class="site-subtitle font-italic">Cyber security researcher, speaker, low level and binary exploitation entusiast. <br /><br />"I’m just a child who has never grown up. I still keep asking these 'how' & 'why' questions. Occasionally, I find an answer. Stephen Hawking"</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://www.linkedin.com/in/helviojunior" aria-label="linkedin" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href="https://www.youtube.com/@Sec4US" aria-label="youtube" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-youtube"></i> </a> <a href="https://github.com/helviojunior" aria-label="github" class="order-5" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['helvio.junior','sec4us.com.br'].join('@')" aria-label="email" class="order-6" > <i class="fas fa-envelope"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/it"> It </a> </span> <span> <a href="/security"> Security </a> </span> <span>Clareza e produtividade na gestão do Firewall Aker 6.1</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Clareza e produtividade na gestão do Firewall Aker 6.1</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Helvio Junior (m4v3r1ck) </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Mar 7, 2012, 2:29 AM -0300" prep="on" > Mar 7, 2012 <i class="unloaded">2012-03-07T02:29:00-03:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Thu, Aug 17, 2023, 12:19 AM -0300" prefix="Updated " > Aug 17, 2023 <i class="unloaded">2023-08-17T00:19:29-03:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="5971 words">33 min</span></div></div><div class="post-content"><p style="text-align: left;" align="center">Este post é a publicação do meu trabalho de conclusão de curso de Especialização em Redes e Segurança de Sistemas realizado na Pontifícia Universidade Católica do Paraná em março de 2010</p><p align="left">Este estudo objetiva demonstrar o ganho de produtividade e clareza na gestão da segurança periférica corporativa, utilizando o Aker Firewall. A motivação inicial deste estudo baseia-se na dificuldade de se encontrar um padrão metodológico de implementação dos recursos de segurança periférica em produtos Linux e de se ter o nível técnico e o tempo necessários para a gestão dessas atividades.</p><p></p><h1>1.      Conceitos relacionados</h1><h2>1.1. A segurança da informação</h2><p>Quando se fala em segurança de informação, é imprescindível entender, primeiramente, o que é informação e qual a sua importância para a empresa. A definição desse termo nem sempre é a mesma nas diversas áreas de trabalho, mas há semelhanças que são difundidas.</p><p>Uma delas, é a figura a seguir intitulada “pirâmide do conhecimento”:</p><p><a href="/assets/2012/03/low_image1.jpg" class="img-link shimmer" ><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 175'%3E%3C/svg%3E" title="Pirâmide do conhecimento" data-src="/assets/2012/03/low_image1-300x291.jpg" alt="" width="180" height="175" class="lazyload" data-proofer-ignore></a></p><p align="center">Figura1: Pirâmide do conhecimento</p><p>Nessa representação, baseada na pirâmide de DUSSIN E FERRO (2009), ―dado‖ seria “como uma seqüência de símbolos quantificados ou quantificáveis. Nesse sentido, um texto contendo letras, que são símbolos de um conjunto finito que é o alfabeto, pode constituir-se de uma base numérica e portanto é um dado. Também são dados, as fotos, as figuras, os sons gravados, pois todos podem ser quantificados.” SETZER (2002, p.1)<em></em></p><p>De acordo com CHIAVENATO (1999, p. 366), a “informação é um conjunto de dados com um significado, ou seja, que reduz a incerteza ou que aumenta o conhecimento a respeito de algo”.</p><p>Já o “conhecimento”, como definido por DAVENPORT (1998, p.19), “é a informação mais valiosa. É valiosa precisamente porque alguém deu à informação um contexto, um significado, uma interpretação”. A partir dessa definição, CAMPOS (2006, p. 3) afirma ainda que “a informação possui significado e causa impacto em grau menor ou maior, tornando-a o elemento essencial da extração e criação do conhecimento”. Dessa forma, o conhecimento pode ser considerado como a informação processada pelos indivíduos, ou seja, ele é adquirido pela utilização da informação na ação humana.</p><p>Portanto, a informação é de grande importância para a geração do conhecimento. Nesse viés, CAMPOS (2006, p.4) define a informação como um valor para o negócio devido a sua importância nas tomada de decisões, estando ligada diretamente à geração de lucro. Tornando-se, assim, um bem, um ativo da organização, e como tal devendo ser protegido e preservado.<em></em></p><p>Nesse escopo de proteção e preservação da informação, é importante definir e entender qual o significado de um sistema de segurança (proteção) da informação e quais são seus pilares e princípios que norteiam a implementação dessa prática.</p><p>A norma NBR ISO/IEC 27002/2005 conceitua a segurança da informação como sendo a “preservação da confidencialidade, da integridade e da disponibilidade da informação”. Conforme ilustrado na figura 2, a segurança da informação está baseada em três pilares: 1) confidencialidade, 2) integridade, 3) disponibilidade.</p><p>Essa norma afirma ainda que “adicionalmente, outras propriedades, tais como autenticidade, responsabilidade, não repúdio e confiabilidade, podem também estar envolvidas”.</p><p><a href="/assets/2012/03/low_image2.jpg" class="img-link shimmer" ><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 197 279'%3E%3C/svg%3E" title="Pilares da segurança da informação" data-src="/assets/2012/03/low_image2.jpg" alt="" width="197" height="279" class="lazyload" data-proofer-ignore></a></p><p align="center">Figura 2: Pilares da segurança da informação</p><p>Dessa forma, ao se quebrar um desses pilares, ocorre a quebra da segurança da informação ou, também chamada, incidente de segurança da informação.</p><p>Para se obter um entendimento melhor desses pilares e as outras propriedades propostas pela NBR ISO/IEC 27002/2005, será utilizada a definição de SÊMOLA (2003, p. 45), de NBR ISO/IEC 27002/2005 e de ISO/IEC 13335-1:2004.</p><p style="padding-left: 210px;"><strong>Confidencialidade:</strong> toda informação deve ser protegida de acordo com o grau de sigilo de seu conteúdo, visando a limitação de seu acesso e uso apenas às pessoas para quem elas são destinadas.</p><p style="padding-left: 210px;"><strong>Integridade:</strong> toda informação deve ser mantida na mesma condição em que foi disponibilizada pelo seu proprietário, visando protegê-las contra alterações indevidas, intencionais ou acidentais.</p><p style="padding-left: 210px;"><strong>Disponibilidade:</strong> toda informação gerada ou adquirida por um indivíduo ou instituição deve estar disponível aos seus usuários no momento em que os mesmos dela necessitarem para qualquer finalidade.</p><p style="padding-left: 210px;"><strong>Autenticidade:</strong> a garantia de que o usuário, objeto ou recurso é quem diz ser.</p><p style="padding-left: 210px;"><strong>Responsabilidade:</strong> a capacidade de responsabilização de um usuário pelos atos cometidos.</p><p style="padding-left: 210px;"><strong>Não repúdio:</strong> garantia de uma ação, evento ou informação não poderá ser negada pelo seu autor.</p><p style="padding-left: 210px;"><strong>Confiabilidade:</strong> garantia de tolerância a falhas de um sistema de informação.</p><p>No contexto de segurança de informação, há vulnerabilidades, que são fraquezas presentes nos ativos<a title="" href="file:///C:/Users/g0024485/Desktop/Publicar/TCC_Final.docx#_ftn1">[1]</a> de informação e que podem causar, intencionalmente ou não, a quebra de um ou mais dos três princípios de segurança da informação. (CAMPOS, 2006, p. 9).</p><p>Podem-se relacionar as vulnerabilidades aos seguintes ativos de informação<a title="" href="file:///C:/Users/g0024485/Desktop/Publicar/TCC_Final.docx#_ftn2">[2]</a>:</p><ol><li>Tecnologias:<ol><li>Computadores sem proteção contra vírus, spywares e worms;<li>Switches não protegidos com senha ou protegidos com a senha padrão de fábrica;<li>Rede local acessível por senha padrão ou pública;<li>Sistema de informação sem controle de acesso lógico;<li>Acesso não controlado a recursos computacionais externos a rede corporativa (tendo como origem um equipamento interno).</ol><li>Pessoas e processos:<ol><li>A ausência de uma política institucional de segurança da informação dentro da organização;<li>A inexistência de regulamentação para acesso à informação da organização por terceiros e prestadores de serviço;<li>A ausência de procedimentos disciplinares para o tratamento das violações da política de segurança da informação;<li>A ausência de regulamentação explícita quanto aos cuidados com a informação, do que é permitido ou não, tais como os procedimentos de compra ou desenvolvimento de sistemas de informação, a gestão das cópias de segurança, controle de versão e software, proteção contra softwares maliciosos, gerenciamento da rede local de computadores, gestão das mídias de armazenamento, uso do correio eletrônico, acesso à Internet, entre outros.</ol></ol><p>Observa-se por essa breve relação que a segurança da informação não se limita no âmbito de informática, mas envolve toda a corporação.</p><h2>1.2. Produtividade e clareza</h2><h3>1.2.1. Produtividade</h3><p>A produtividade tem se tornado fator diferencial entre o manter-se no mercado ou sucumbir.</p><p>MACEDO (2002, p. 1) afirma que:</p><p>“Atualmente, sem produtividade ou sem a eficiência do processo produtivo, dificilmente uma empresa vai ser bem-sucedida ou até mesmo sobreviver no mercado. Dado o acirramento da concorrência, a gestão da produtividade está se tornando um dos quesitos essenciais na formulação das estratégias de competitividade das empresas”.</p><p>Um aumento de produtividade pode ser alcançado de várias maneiras, PARKINSON (2004, p. 1) listou 5 abordagens que podem ser aplicadas para o incremento de produtividade:</p><ol><li>Eliminar trabalho desnecessário;<li>Eliminar retrabalho desnecessário;<li>Reduzir a duração do esforço;<li>Automatizar tudo que for possível; e<li>Gerenciar a demanda.</ol><p>A Tecnologia da informação (doravante, TI) tem se mostrado uma importante ferramenta para o aumento de produtividade, inclusive englobando as 5 abordagens apontadas por PARKINSON.</p><h3>1.2.2. Clareza</h3><p>Segundo o dicionário MICHAELIS (2009), clareza é “qualidade do que é claro ou inteligível”, “qualidade do que se percebe bem” e ainda “limpidez, transparência”.</p><h2>1.3. Protocolo de comunicação</h2><p>O dicionário MICHAELIS (2009) conceitua protocolo como sendo o “conjunto de parâmetros que define como a transferência da informação vai ser controlada”. No entanto, antes de adentrarmos em detalhamentos técnicos dos protocolos de comunicação, observaremos a teoria básica da comunicação, conforme definida por JAKOBSON (2001, p. 14):</p><p>“A teoria da comunicação parece-me uma boa escola para a Lingüística estrutural, assim como a Lingüística estrutural é uma escola útil para os engenheiros de comunicações. Penso que a realidade fundamental com que se tem de haver o lingüista é a interlocução — a troca de mensagens entre emissor e receptor, entre remetente e destinatário, entre codificador e decodificador”.</p><p>JAKOBSON (2001) sugere, então, o seguinte esquema:</p><p style="text-align: center;"><a href="/assets/2012/03/low_image3.jpg" class="img-link shimmer" ><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 527 127'%3E%3C/svg%3E" class="lazyload wp-image-54 aligncenter" title="Teoria da comunicação" data-src="/assets/2012/03/low_image3.jpg" alt="" width="527" height="127" data-proofer-ignore></a></p><p align="center">Figura 3: Teoria da comunicação</p><p>Observa-se na figura que toda comunicação é composta de uma fonte de dados que gera os dados de uma forma padrão, ou seja, em uma codificação, o emissor envia a mensagem ao receptor, que encaminha ao alvo (destino), que consegue interpretar estes dados por conhecer a codificação.</p><p>Esta teoria aplica-se de forma geral a todas as metodologias de comunicação existentes e na informática isso não é diferente. Para que haja comunicação entre dois ou mais computadores é necessário um código de comunicação, aqui chamado protocolo de comunicação.</p><p>O protocolo de comunicação mais utilizado em todo o mundo é o TCP/IP (Transfer Control Protocol / Internet Protocol).<em></em></p><h3>1.3.1. TCP/IP</h3><p>“O conjunto de protocolos TCP/IP foi desenvolvido como parte da pesquisa feita pela Defense Advanced Research Projects Agency (DARPA). Ele foi originalmente desenvolvido para fornecer comunicação através da DARPA. Posteriormente, o TCP/IP foi incluído com o Berkeley Software Distribution da UNIX. Agora, o TCP/IP é de fato o padrão das comunicações de internetworks e serve como protocolo de transporte para a Internet, permitindo a comunicação de milhares de computadores no mundo todo” (CISCO, 2000).</p><p>“A função da pilha, ou conjunto, TCP/IP é transferir informações de um dispositivo em rede para outro. Ao fazer isso, ela mapeia cuidadosamente o modelo de referência TCP/IP nas camadas inferiores e suporta todos os protocolos padrão físicos e de enlace de dados” (CISCO, 2000).</p><p>“As camadas mais afetadas pelo conjunto TCP/IP são a camada 4 (aplicação), a camada 3 (transporte) e a camada 2 (rede). Outros tipos de protocolos, com várias finalidades/funções, todas relativas à transferência de informações, estão incluídos nessas camadas” (CISCO, 2000).</p><p><a href="/assets/2012/03/low_image4.jpg" class="img-link shimmer" ><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 135 193'%3E%3C/svg%3E" title="low_image4" data-src="/assets/2012/03/low_image4.jpg" alt="" width="135" height="193" class="lazyload" data-proofer-ignore></a></p><p align="center">Figura 4: Modelo TCP/IP</p><p>O modelo TCP/IP é divido em camadas de forma a estar em conformidade com o modelo OSI. O Modelo em camadas é um modelo que efetua a separação teórico/prática da função e concorrência dos diversos protocolos.</p><p>Basicamente, protocolos contidos em mesma camada são concorrentes, ou seja, não podem aparecer concomitantemente no mesmo pacote de comunicação. Já os protocolos de camadas distintas são complementares, devendo aparecer no mesmo pacote de comunicação. De forma simplificada e omitindo alguns campos para uma melhor compreensão, a figura 5 demonstra os campos de um pacote TCP/IP separado por camadas, bem como a ordem de empacotamento na pilha TCP/IP.</p><p style="text-align: center;"><a href="/assets/2012/03/low_image5.jpg" class="img-link shimmer" ><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 472 241'%3E%3C/svg%3E" title="low_image5" data-src="/assets/2012/03/low_image5.jpg" alt="" width="472" height="241" class="lazyload" data-proofer-ignore></a></p><p align="center">Figura 5: Sequenciamento de empacotamento TCP/IP</p><p>Para um melhor entendimento, a tabela abaixo demonstra alguns exemplos de protocolos em cada uma das camadas.</p><div align="center"><div class="table-wrapper"><table border="1" cellspacing="0" cellpadding="0"><tbody><tr><td valign="top" width="102"><strong>Camada</strong><td valign="top" width="425"><strong>Protocolo</strong><tr><td valign="top" width="102">Aplicação<td valign="top" width="425">DNS, POP3, SMTP, SNMP, HTTP, HTTPS, FTP, TELNET e MSN<tr><td valign="top" width="102">Transporte<td valign="top" width="425">TCP e UDP<tr><td valign="top" width="102">Rede<td valign="top" width="425">IP, ICMP e ARP<tr><td valign="top" width="102">Física<td valign="top" width="425">MAC Address, Ethernet e Frame Relay</table></div></div><p align="center">Tabela 1: Exemplos de protocolos por camada TCP/IP</p><h2>1.4. Firewall</h2><p>Segundo CHESWICK e BELLOVIN apud NAKAMURA e GEUS (2003, p. 206), <em>firewall</em> é um ponto entre duas ou mais redes no qual circula todo o tráfego. A partir desse único ponto, é possível controlar e autenticar o tráfego. Já CHAPMAN apud NAKAMURA e GEUS (2003, p. 206) define <em>firewall</em> como sendo um componente ou conjunto de componentes que restringe o acesso entre uma rede protegida e a internet ou entre outros conjuntos de redes.</p><p>Partindo dessas duas definições, observa-se que o <em>firewall</em> é o principal equipamento de ligação e controle entre duas ou mais redes, por onde passa todo o tráfego delas.</p><p>Um sistema de <em>firewall</em> é composto por vários componentes sendo que cada qual desempenha uma funcionalidade, conforme listado e demonstrado por NAKAMURA e GEUS (2003, p. 208). As quatro primeiras funcionalidades seriam os filtros, proxies, bastion hosts e zonas desmilitarizadas. Porém, com a evolução das necessidades de segurança, foram inseridas ainda neste contexto o Network Address Translation  - NAT, a Rede privada Virtual  - VPN e a autenticação/certificação.<em></em></p><p>Para se manter de acordo com o objetivo deste estudo, somente os itens filtros e proxies serão detalhados.</p><h3>1.4.1 Filtros</h3><p>Os filtros são responsáveis por efetuar o controle de pacotes que entram e saem do firewall, na maioria das vezes efetuando o roteamento dos mesmos. O filtro geralmente efetua a análise atuando na camada de rede e de transporte do modelo TCP/IP comparando os dados do cabeçalho do pacote, tais como endereço de origem, endereço de destino, porta de origem, porta de destino, flags e protocolo, com um conjunto de regras estáticas. Segundo NAKAMURA e GEUS (2003, p. 215), esse tipo de <em>firewall</em> é conhecido como <em>static packet filtering</em>.</p><p>Porém, esse tipo de filtragem é vulnerável a diversos tipos de ataques e não se torna compatível com alguns protocolos de camada de aplicação como FTP, RPC e H.323, pois esses utilizam dois ou mais canais de comunicação ou portas dinâmicas (NAKAMURA e GEUS, 2003, p. 215).</p><p>Visando solucionar esses e outros problemas e prover uma filtragem mais efetiva e dinâmica, aumentando desta forma a segurança, a Check Point criou o conceito <em>Stateful Inspection</em><a title="" href="file:///C:/Users/g0024485/Desktop/Publicar/TCC_Final.docx#_ftn3">[3]</a>.</p><p>Stateful inspection (também conhecido como <em>dynamic packet filtering</em>) toma as decisões de filtragem tendo como referência os seguintes elementos:</p><ul><li>As informações dos cabeçalhos dos pacotes, igual o <em>static packet filtering</em>;<li>Informações recuperadas, armazenadas e manipuladas de todas as camadas do modelo TCP/IP da comunicação corrente ou de outras comunicações. Como por exemplo, o comando de porta de saída de uma sessão FTP;<li>Informações provenientes de outros aplicativos, como por exemplo, um usuário autenticado tendo acesso a serviços autorizados;</ul><h3>1.4.2. Caching</h3><p>Antes de falar em proxies é importante se falar em <em>caching</em>, pois muitos autores erroneamente definem Proxy como sendo igual à <em>cache</em> que, no entanto, são serviços distintos.</p><p>Segundo WESSELS (2001, p. 1), o termo <em>cache</em> é um termo francês que significa, literalmente, armazenar. Ao se tratar de tecnologia da informação, <em>caching</em> se refere ao armazenamento de informações recentemente recuperadas para futura referência e utilização. As informações podem ou não serem utilizadas novamente, fazendo com que o <em>cache</em> seja benéfico somente quando o custo computacional de armazenar a informação for inferior ao custo de recuperar ou calcular as informações novamente.</p><p>Atualmente, o <em>caching</em> é utilizado em várias áreas dentro da computação, como em processadores, sistemas operacionais e outros. Já os serviços para a internet que atualmente mais se utilizam de <em>cache</em> são o HTTP e DNS.</p><h3>1.4.3. Proxies</h3><p><em>Proxies</em> são aplicativos que realizam filtragens mais apuradas em camada de aplicação. Por trabalhar em camada de aplicação, é exigido um código (aplicativo) para cada serviço a ser filtrado.</p><p>Atualmente, há basicamente dois tipos de <em>proxies</em>, o ativo e o transparente. A principal distinção entre eles é que o ativo necessita de uma personalização dos aplicativos clientes para que se efetue a solicitação do serviço desejado ao p<em>roxy</em> e o transparente não precisa da personalização, pois o cliente efetua a solicitação de serviço diretamente ao servidor final e é o firewall que redireciona a solicitação do cliente para o <em>proxy</em>. Em ambos, porém, é o servidor de <em>proxy</em> que efetua a requisição ao servidor final e retorna o resultado ao cliente.</p><p>Alguns serviços de <em>proxy</em> existentes no mercado implementam a funcionalidade de <em>caching</em> como é o exemplo do <em>Squid</em> e o <em>Microsoft Isa Server</em>.</p><h1>2. Estudo de caso: Aker Firewall x Ferramentas OpenSource (Linux)</h1><h2>2.1. Por que esses produtos?</h2><h3>2.1.1. Linux</h3><p>A escolha do Linux para este estudo se deve ao fato desse sistema se constituir em um dos sistemas operacionais mais utilizados para servidores em geral. A distribuição do Linux escolhida para este estudo foi a da Fedora em sua versão 8. A escolha dessa distribuição e versão se baseia na familiaridade do pesquisador. <em></em></p><h3>2.1.2. Aker Firewall</h3><p>A escolha desse produto foi feita devido ao fato de ser um produto 100% nacional, com qualidade e robustez que o coloca na mesma categoria que os melhores produtos deste ramo no mercado, como Firewall 1 da Checkpoint.</p><p>A versão escolhida para este estudo foi a 6.1, por ser a versão comercializada no período deste estudo.</p><h2>2.2. Escopo deste estudo</h2><p>Este estudo limitar-se-á em comparar as metodologias de implementação de algumas funcionalidades do Aker Firewall com produtos que implementam as mesmas funcionalidades no Linux, tendo como premissa a disponibilidade de somente um hardware para a implementação de cada produto, sem a utilização de máquinas virtuais para aproveitamento do mesmo hardware.</p><p>Este estudo não tem a pretensão de exaurir todos os recursos dos dois produtos. Neste, será demonstrada a configuração passo-a-passo para implementação de cada funcionalidade nos produtos, demonstrando telas e arquivos de configuração quando necessários.</p><p>As funcionalidades comparadas neste estudo são:</p><ol><li>Regras de filtragem na camada de transporte;<li>Implementação de QoS;<li>Criação de filtros personalizados em camada de aplicação.</ol><h2>2.3. Ambiente</h2><p>A figura 6 apresenta o detalhamento do ambiente montado para as comparações técnicas.</p><p style="text-align: center;"><a href="/assets/2012/03/low_image6.jpg" class="img-link shimmer" ><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 463 276'%3E%3C/svg%3E" title="low_image6" data-src="/assets/2012/03/low_image6.jpg" alt="" width="463" height="276" class="lazyload" data-proofer-ignore></a></p><p align="center">Figura 6: Ambiente técnico de implementação</p><h2>2.4. Comparação de funcionalidades</h2><h3>2.4.1. Regras de filtragem na camada de transporte</h3><p>Para esta comparação, serão criadas 3 regras em cada um dos firewalls:</p><ol><li>Liberação da rede interna para acessar HTTP e HTTPS tendo como destino qualquer faixa de IP;<li>Liberação da rede interna para acessar DNS e MSN tendo como destino qualquer faixa de IP;<li>Bloqueia o restante dos pacotes.</ol><div align="center"><div class="table-wrapper"><table border="1" cellspacing="0" cellpadding="0"><tbody><tr><td valign="top" width="73"><strong>Serviço</strong><td valign="top" width="57"><strong>Porta</strong><td valign="top" width="85"><strong>Protocolo</strong><tr><td valign="top" width="73">HTTP<td valign="top" width="57">80<td valign="top" width="85">TCP<tr><td valign="top" width="73">HTTPS<td valign="top" width="57">443<td valign="top" width="85">TCP<tr><td valign="top" width="73">DNS<td valign="top" width="57">53<td valign="top" width="85">UDP<tr><td valign="top" width="73">MSN<td valign="top" width="57">1863<td valign="top" width="85">TCP</table></div></div><p align="center">Tabela 2: Descrição de serviços x porta e protocolo</p><p><strong>Aker Firewall</strong></p><p>O Aker é um produto orientado a objetos, por isso para poder criar qualquer regra, se faz necessário criar os objetos que fazem a representação do mundo real para o produto, os quais são chamados de entidade. A figura 7 mostra quais os tipos de entidades aceitas no produto.</p><p><a href="/assets/2012/03/low_image7.jpg" class="img-link shimmer" ><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 414 260'%3E%3C/svg%3E" title="Lista de tipos de entidade" data-src="/assets/2012/03/low_image7.jpg" alt="" width="414" height="260" class="lazyload" data-proofer-ignore></a></p><p align="center">Figura 7: Lista de tipos de entidade</p><p>Para a criação das regras solicitadas, será necessário criar 6 etidades que serão demonstradas na figura 8.</p><p>1) Rede interna,</p><p>2) internet,</p><p>3) HTTP,</p><p>4) HTTPS,</p><p>5) DNS,</p><p>6) MSN Messenger.</p><p style="text-align: center;"><a href="/assets/2012/03/low_image8.jpg" class="img-link shimmer" ><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 598 376'%3E%3C/svg%3E" title="Entidades criadas para as regras desta comparação" data-src="/assets/2012/03/low_image8.jpg" alt="" width="598" height="376" class="lazyload" data-proofer-ignore></a></p><p align="center">Figura 8: Entidades criadas para as regras desta comparação</p><p>Após a criação das entidades, basta criar as regras, conforme demonstrado na figura 9. Observa-se que o item 3 desta comparação, “bloqueio do restante dos pacotes”, não foi criado. Isso se deve ao fato de que, por padrão, o firewall Aker descarta todos os pacotes, considerando apenas as regras criadas. Observa-se também que não há a necessidade de criar regras de retorno dos pacotes, pois o Aker é <em>stateful inspection</em>.</p><p style="text-align: center;"><a href="/assets/2012/03/low_image9.jpg" class="img-link shimmer" ><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 541 161'%3E%3C/svg%3E" title="Regras de filtragem aplicadas no Aker Firewall" data-src="/assets/2012/03/low_image9.jpg" alt="" width="541" height="161" class="lazyload" data-proofer-ignore></a></p><p align="center">Figura 9: Regras de filtragem aplicadas no Aker Firewall</p><p><strong>Linux</strong></p><p>Para a criação das regras, foi utilizado o aplicativo IPTABLES que vem habilitado por padrão na distribuição escolhida.</p><p>Para facilitar a aplicação das regras, serão criadas todas em um arquivo Shell. Dessa forma, a primeira linha do arquivo em questão será “#!/bin/sh”. Logo após esta linha, serão colocados os comandos IPTABLES.</p><p>O primeiro comando iptables a ser aplicado efetua a limpeza de todas as regras a fim de evitar que regras antigas ou aplicadas por outros scripts possam influenciar neste equipamento. O comando de limpeza é “iptables --flush”.</p><p>Após a limpeza de todas as regras, faz-se necessário definir a regra padrão do IPTABLES, as quais serão definidas com os comandos “iptables -P INPUT DROP”, “iptables -P OUTPUT DROP” e “iptables -P FORWARD DROP”.</p><p>As regras de bloqueio estão definidas, sendo necessário começar, então, a criar as regras de liberação. As primeiras regras de liberação que serão criadas são as que permitem os pacotes de conexões pré-estabelecidas. Em seguida, será criada a regra que libera todos os pacotes em <em>loopback</em>. As regras são: “iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT”, “iptables -A OUTPUT -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT”, “iptables -A FORWARD -m state --state ESTABLISHED,RELATED -j ACCEPT” e “iptables -A INPUT -i lo -j ACCEPT”.</p><p>Antes de criar as regras específicas solicitadas pela atividade será adicionado um comando para habilitar no kernel do Linux o encaminhamento de pacotes, para que este faça a funcionalidade de roteador “echo 1 &gt; /proc/sys/net/ipv4/ip_forward”.</p><p>A partir desse ponto, podem-se criar as regras de liberação específicas solicitadas pela atividade, conforme demonstrado abaixo:</p><p>Liberação do HTTP:</p><p>iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 80 -j ACCEPT</p><p>Liberação do HTTPS:</p><p>iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 443 -j ACCEPT</p><p>Liberação do MSN:</p><p>iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 1863 -j ACCEPT</p><p>Liberação do DNS:</p><p>iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p UDP --sport 1024:65535 --dport 53 -j ACCEPT</p><p>Segue abaixo o arquivo Shell agrupando todas as regras demonstradas acima em um único arquivo nomeado fw.sh.</p><p>[sourcecode language="bash"]<br /> #!/bin/sh</p><p># Limpa as regras atuais<br /> iptables --flush</p><p># Regra padrão (Bloqueia tudo)<br /> iptables -P INPUT DROP<br /> iptables -P OUTPUT DROP<br /> iptables -P FORWARD DROP</p><p># Libera os retornos de stados e pacotes de saida<br /> iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT<br /> iptables -A OUTPUT -m state --state NEW,ESTABLISHED,RELATED -j ACCEPT<br /> iptables -A FORWARD -m state --state ESTABLISHED,RELATED -j ACCEPT</p><p># Liberando tudo da Loopback<br /> iptables -A INPUT -i lo -j ACCEPT</p><p># Libera forward e adiciona as rotas<br /> echo 1 &gt; /proc/sys/net/ipv4/ip_forward</p><p># Regra 1 – Libera o acesso HTTP e HTTPS<br /> iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 80 -j ACCEPT<br /> iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 443 -j ACCEPT</p><p># Regra 2 – Libera o acesso DNS e MSN<br /> iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p TCP --sport 1024:65535 --dport 1863 -j ACCEPT<br /> iptables -A FORWARD -i eth1 -s 172.31.2.0/24 -d 0.0.0.0/0 -o eth0 -p UDP --sport 1024:65535 --dport 53 -j ACCEPT</p><p>[/sourcecode]</p><p><strong>Aker Firewall x Linux</strong></p><p>Pode-se observar nessa comparação que devido à utilização de uma interface gráfica, a configuração no Aker fica mais intuitiva ao administrador, dando-lhe a clareza das configurações por se aproximar com o desenho de seu ambiente. Dessa forma, o administrador tem um ganho de produtividade com a redução do tempo de implementação e gestão das regras de filtragem.</p><h3>2.4.2. Implementação de QoS</h3><p>Para esta comparação, deverá ser implementado um QoS de 2 Mbps simétrico, ou seja, de download e upload, para os protocolos HTTP e HTTPS.</p><p><strong>Aker Firewall</strong></p><p>Para a implementação do QoS no Aker, será criada uma entidade do tipo “Canal”, conforme a figura 10. Após a criação da entidade, serão aproveitadas as mesmas regras de filtragem criadas na comparação anterior e será inserido o canal na regra necessária, conforme mostrado na figura 11.</p><p style="text-align: center;"><a href="/assets/2012/03/low_image10.jpg" class="img-link shimmer" ><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 295 257'%3E%3C/svg%3E" title="Entidade do tipo canal" data-src="/assets/2012/03/low_image10.jpg" alt="" width="295" height="257" class="lazyload" data-proofer-ignore></a></p><p align="center">Figura 10: Entidade do tipo canal</p><p style="text-align: center;" align="center"><a href="/assets/2012/03/low_image11.jpg" class="img-link shimmer" ><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 584 161'%3E%3C/svg%3E" title="Regras de filtragem aplicadas no Aker Firewall com QoS" data-src="/assets/2012/03/low_image11.jpg" alt="" width="584" height="161" class="lazyload" data-proofer-ignore></a></p><p align="center">Figura 11: Regras de filtragem aplicadas no Aker Firewall com QoS</p><p><strong>Linux</strong></p><p>Para a criação do QoS foi utilizado o aplicativo tc, que também está instalado por padrão na distribuição escolhida. O tc aplica as políticas de QoS com base nos pacotes de saída da placa física da máquina. Dessa forma, faz-se necessária a criação de duas políticas distintas, uma para upload de pacotes e outra para download.</p><p>Para uma melhor compreensão dos comandos, a figura 12, criada por BALLIACHE, ilustra a sequência de ligação entre os elementos do tc.</p><p style="text-align: center;"><a href="/assets/2012/03/low_image12.jpg" class="img-link shimmer" ><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 631 343'%3E%3C/svg%3E" title="Elementos do TC" data-src="/assets/2012/03/low_image12.jpg" alt="" width="631" height="343" class="lazyload" data-proofer-ignore></a></p><p align="center">Figura 12: Elementos do TC</p><p>Os elementos definidos pelo tc são os seguintes:</p><ol><li>Queuing Disciplines = qdisc</ol><p>Algoritmos que controlam o enfileiramento e envio de pacotes.</p><ol><li>Classes</ol><p>Representam “entidades de classificação de pacotes”.</p><ol><li>Filters</ol><p>Utilizados para policiar e classificar os pacotes e atribuí-los as classes.</p><ol><li>Policers</ol><p>Utilizados para evitar que o tráfego associado a cada filtro ultrapasse limites pré-definidos.</p><p><strong>Política de upload:</strong></p><p>Exclusão da qdisc principal e todos os objetos vinculados:</p><p>tc qdisc del dev eth0 root</p><p>Criação da qdisc principal:</p><p>tc qdisc add dev eth0 handle 1:0 root htb</p><p>Criação da classe:</p><p>tc class add dev eth0 parent 1:0 classid 1:1 htb rate 128kbps</p><p>Criação da qdisc da classe:</p><p>tc qdisc add dev eth0 parent 1:1 handle 10:0 pfifo limit 10</p><p>Aplicação dos filtros:</p><p>tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 80 0xfff flowid 1:1</p><p>tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 443 0xfff flowid 1:1</p><p><strong> </strong></p><p><strong>Política de download:</strong></p><p>Exclusão da qdisc principal e todos os objetos vinculados:</p><p>tc qdisc del dev eth1 root</p><p>Criação da qdisc principal:</p><p>tc qdisc add dev eth1 handle 2:0 root htb</p><p>Criação da classe:</p><p>tc class add dev eth1 parent 2:0 classid 2:1 htb rate 2048kbps</p><p>Criação da qdisc da classe:</p><p>tc qdisc add dev eth1 parent 2:1 handle 30:0 pfifo limit 10</p><p>Aplicação dos filtros:</p><p>tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 80 0xfff flowid 2:1</p><p>tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 443 0xfff flowid 2:1</p><p><em> </em></p><p>Segue abaixo o arquivo Shell agrupando todas as regras demonstradas acima. Este foi nomeado como qos.sh</p><div>[sourcecode language="bash"]<br /> #!/bin/bash</p><p># POLITICA DE UPLOAD (eth0)<br /> tc qdisc del dev eth0 root<br /> tc qdisc add dev eth0 handle 1:0 root htb<br /> tc class add dev eth0 parent 1:0 classid 1:1 htb rate 128kbps<br /> tc qdisc add dev eth0 parent 1:1 handle 10:0 pfifo limit 10<br /> tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 80 0xfff flowid 1:1<br /> tc filter add dev eth0 parent 1:0 protocol ip prio 2 u32 match ip dport 443 0xfff flowid 1:1</p><p># POLITICA DE DOWNLOAD (eth1)<br /> tc qdisc del dev eth1 root<br /> tc qdisc add dev eth1 handle 2:0 root htb<br /> tc class add dev eth1 parent 2:0 classid 2:1 htb rate 2048kbps<br /> tc qdisc add dev eth1 parent 2:1 handle 30:0 pfifo limit 10<br /> tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 80 0xfff flowid 2:1<br /> tc filter add dev eth1 parent 2:0 protocol ip u32 match ip dst 0.0.0.0/0 match ip sport 443 0xfff flowid 2:1<br /> [/sourcecode]</p></div><p><strong>Aker Firewall x Linux</strong></p><p>Tendo como foco a clareza no entendimento da aplicação das funcionalidades, o tc se mostrou pouco favorável, demandando um tempo maior do administrador no entendimento dos comandos, aplicação e gestão dessa regra de QoS. Em contrapartida, o Aker aproveitou um ambiente já montado e de fácil compreensão ao administrador para implementar a regra de QoS.</p><h3>2.4.3. Criação de filtros personalizados em camada de aplicação.</h3><p>O objetivo deste teste é comparar a capacidade dos dois produtos em realizar filtro específico (criado pelo administrador) em camada de aplicação, para liberação ou bloqueio de uma conexão.</p><p><strong>Aker firewall</strong></p><p>Para a implementação de um filtro em camada de aplicação, é necessário criar um filtro com um texto personalizado que se deseja buscar nos pacotes, conforme demonstrado na figura 13, e posteriormente aplicá-lo em uma regra de filtragem de aplicações, conforme demonstrado na figura 14.</p><p style="text-align: center;"><a href="/assets/2012/03/low_image13.jpg" class="img-link shimmer" ><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 334 191'%3E%3C/svg%3E" title="Criação do filtro de aplicações" data-src="/assets/2012/03/low_image13.jpg" alt="" width="334" height="191" class="lazyload" data-proofer-ignore></a></p><p align="center">Figura 13: Criação do filtro de aplicações</p><p style="text-align: center;" align="center"><a href="/assets/2012/03/low_image14.jpg" class="img-link shimmer" ><img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 383 183'%3E%3C/svg%3E" title="Criação da regra de filtragem de aplicações" data-src="/assets/2012/03/low_image14.jpg" alt="" width="383" height="183" class="lazyload" data-proofer-ignore></a></p><p align="center">Figura 14: Criação da regra de filtragem de aplicações</p><p><strong>Linux</strong></p><p>Para a criação deste tipo de filtragem no Linux, é necessário recompilar o Kernel e o iptables com o módulo Layer7<a title="" href="file:///C:/Users/g0024485/Desktop/Publicar/TCC_Final.docx#_ftn4">[4]</a>.</p><p>Para a compilação do kernel e iptables foi utilizado o artigo de ROBERTO (2007), conforme segue abaixo:</p><p>Passo 1 – Download dos pacotes<a title="" href="file:///C:/Users/g0024485/Desktop/Publicar/TCC_Final.docx#_ftn5">[5]</a>:</p><p>linux-2.6.23.tar.bz2</p><p>iptables-1.3.8.tar.bz2</p><p>l7-protocols-2007-11-22.tar.gz</p><p>netfilter-layer7-v2.14.tar.gz</p><p>Passo 2 – remoção do Iptables</p><p># yum remove iptables</p><p>Passo 3 – Descompactar os pacotes em /usr/src</p><p># cd /usr/src</p><p># tar xjvf linux-2.6.23.tar.bz2</p><p># tar xjvf iptables-1.3.8.tar.bz2</p><p># tar xzvf netfilter-layer7-v2.14.tar.gz</p><p># tar xzvf l7-protocols-2007-11-22.tar.gz</p><p># mkdir /etc/l7-protocols</p><p># cp -a /usr/src/l7-protocols-2007-11-22/protocols/ /etc/l7-protocols/</p><p>Passo 4 – Criar links simbólicos</p><p># ln -s /usr/src/linux-2.6.23 /usr/src/Linux</p><p># ln -s /usr/src/iptables-1.3.8 /usr/src/iptables</p><p>Passo 5 – Aplicar os patchs no kernel e no iptables e configurar o layer7</p><p># cd /usr/src/linux</p><p># patch -p1 &lt; /usr/src/netfilter-layer7-v2.14/kernel-2.6.22-layer7-2.14.patch</p><p># cd /usr/src/iptables</p><p># patch -p1 &lt; /usr/src/netfilter-layer7-v2.14/iptables-for-kernel-2.6.20forward-layer7-2.14.patch</p><p># cd /usr/src/linux</p><p># make menuconfig</p><p>Neste ponto, é necessário selecionar o Layer7 para posterior compilação junto com o kernel. Então, navegue com o teclado até a opção:</p><p>Networking</p><p>Networking Options</p><p>Network packet filtering framework (Netfilter)</p><p>Core Netfilter Configuration</p><p>Ao encontrar a opção &lt; &gt; “layer7" match support, marque-a com um M, e a que vem logo abaixo dela, com um asterisco, ficando assim:</p><p>&lt;M&gt; “layer7" match support</p><p>[*] Layer 7 debugging output</p><p>Salve e saia do menuconfig.</p><p>Passo 5 – Compilar o kernel</p><p># make dep</p><p># make clean</p><p># make bzImage</p><p># make modules</p><p># make modules_install</p><p># make install</p><p>Após a compilação, reinicie a máquina e selecione o kernel novo compilado, pois o kernel antigo e o padrão de boot.<em></em></p><p>Passo 6 – Definir permissões e compilar o iptables.</p><p># chmod 755 extensions/.layer7-test</p><p># make KERNELDIR=/usr/src/linux</p><p># make KERNELDIR=/usr/src/linux install</p><p>Passo 7 – Se necessário, habilitar o módulo no kernel.</p><p># modprobe ipt_layer7</p><p>Agora basta efetuar a criação do Pattern de consulta e aplicar a regra no iptables.</p><p>Conteúdo do arquivo “/etc/l7-protocols/protocols/terra.pat”</p><div><p>terra</p><p>terra.com*</p></div><p>Regra do iptables</p><div><p>iptables -I FORWARD -m layer7 --l7proto terra -s any/0 -p TCP --sport 1024:65535 --dport 80  -j DROP</p></div><p><strong>Aker Firewall x Linux</strong></p><p>O kernel do Linux e o iptables não implementam em modo nativo a funcionalidade de filtragem em camada de aplicação.Dessa forma, há a necessidade de utilizar um módulo de terceiros anexo ao iptables e ao kernel do Linux para habilitar essa funcionalidade, além de haver a necessidade de efetuar a recompilação do kernel. No entanto, como afirma KROAH-HARTMAN (2007, p. ix), esse pocesso de recompilação é um processo incompreensível para a maioria das pessoas.</p><p>O Aker implementa de forma nativa a filtragem de aplicação de forma intuitiva e de rápida aplicação, bastando apenas criar o filtro e a regra de filtragem de aplicação desejada. Indo além dessa configuração trivial, é possível com o Aker configurar nessa mesma regra de filtragem de aplicação que essa conexão seja policiada com QoS.</p><h1>3. Conclusão</h1><p>Observou-se neste estudo que a informação é um bem valioso para a empresa, assim como seus ativos físicos, merecendo uma atenção no tocante a segurança dessa informação. Aprofundando-se no ambiente da segurança de informação, este estudo demonstra que a segurança da informação está baseada em 3 pilares bases: confidencialidade, integridade e disponibilidade, sendo que quando se retira um desses pilares, acontece o que se conceitua como incidente de segurança da informação.</p><p>Quando se fala de incidente de segurança, logo se imagina um ataque hacker. Porém, há outros incidentes que também são prejudiciais ao ambiente corporativo, como o acesso indevido de colaboradores a recursos computacionais, sendo eles internos ou externos, e de colaboradores tentando burlar o sistema de proteção e filtragem HTTP, MSN, e-mail e outros. Essas e outras atividades que caracterizam uma tentativa de ataque podem evoluir para um incidente e precisam ser tratadas, através de uma política de segurança que utilizará ferramentas para evitar um incidente de segurança.</p><p>Nesse escopo, há algumas ferramentas importantes para controlar esses acessos, como os <em>firewalls</em> e <em>proxies</em>. Hoje, há no mercado, uma grande variedade de softwares de firewall e <em>proxy</em>, sendo que alguns deles se integram em um único produto e outros trabalham de forma independente. Neste cenário, um dos sistemas mais utilizados para esses fins é o Linux, por ser, aparentemente, um recurso mais acessível, já que não há o custo de licenças. Porém, recentemente, um estudo dirigido pela Microsoft mostrou que o custo de licenciamento corresponde a 5% do custo efetivo total de um servidor (FOLHA, 2002) e que há custos, muitas vezes não contabilizados, como o valor da hora de trabalho do profissional que administra esses equipamentos na empresa.</p><p>A administração de um sistema de proteção de segurança de informação como um <em>firewall</em> e <em>proxy</em> baseado em Linux, demanda do profissional não só um conhecimento na tecnologia, mas também um profundo conhecimento do sistema operacional Linux. Outra desvantagem desse tipo de sistema, é a falta de padronização, pois cada distribuição Linux tem uma metodologia de implementação e cada profissional tem sua própria metodologia de implementação.</p><p>É importante ressaltar que os sistemas Linux são tecnicamente ótimos produtos e utilizados em larga escala, porém, geralmente, não há uma preocupação em se ter uma boa produtividade e clareza das configurações no momento de sua gestão.</p><p>Objetivando ilustrar o ganho de clareza, ou seja, o entendimento da metodologia de implementação e funcionalidade dos recursos de um firewall e Proxy, bem como o ganho de produtividade em suas 5 abordagens definidas por PARKINSON, este estudo efetuou a comparação da metodologia de implementação de 3 atividades distintas entre o Firewall Aker e sistemas baseado em Linux.</p><p>Porém, sugere-se uma continuidade deste estudo com algumas outras comparações, todas elas possíveis de serem implementadas de forma simples e objetiva no firewall Aker:</p><ol><li>Regras de liberação e bloqueios de site com autenticação aplicando perfil de navegação distinto para grupos de usuários;<li>Aplicação de quota de navegação por tempo e/ou tráfego HTTP e MSN;<li>Aplicação de QoS por categorias/lista de sites;<li>Regras de firewall e Proxy com habilitação automática tendo como base dias e horários da semana;<li>Bloqueios por tipo de navegador;<li>Reescrita de URL;<li>Aplicação de Proxy MSN com filtragem por domínios, e-mails, aplicativos liberados e transferência de arquivos;<li>Implementação em modo cluster com replicação automática das configurações entre os nós do cluster.</ol><p>Em termos de clareza no entendimento da função de uma determinada regra, o firewall Aker tem uma vantagem considerável, pois sua console de gerenciamento é uma console gráfica podendo trabalhar em dois idiomas (português e inglês), não necessitando o conhecimento profundo em comandos e estrutura do sistema operacional base.</p><p>Nas três comparações efetuadas, pode-se observar que em cada uma delas foi utilizado um aplicativo diferente. Dessa forma, configurações distintas puderam ser aplicadas de forma distinta, dependendo do administrador desse sistema. Na terceira comparação, houve a necessidade de efetuar a compilação do Kernel do Linux a qual nem sempre é um processo intuitivo. como afirma KROAH-HARTMAN (2007, p. ix):</p><p>“A compilação do Kernel Linux parece simples para quem está familiarizado, porém é incompreensível para a maioria das pessoas, pois não há um local onde toda a informação necessária para este processo é encontrada de forma clara e objetiva”.</p><p>Neste estudo, pode-se, então, implementar todas as funcionalidades propostas nos dois produtos estudados, porém no firewall Aker houve um ganho de produtividade e clareza da aplicabilidade das regras e filtros propostos.</p><h1></h1><h1>Referencias Bibliográficas</h1><p>AKER, Security Solutions, <strong>Manual de treinamento: Aker Firewall 6.1</strong>. Disponível em: &lt; http://www1.aker.com.br/005/00502001.asp?ttCD_CHAVE=22239&gt;. Acesso em: 13 mar. 2010.</p><p>ABNT NBR ISO/IEC 27002:2005, <strong>Código de prática para a gestão da segurança da informação</strong></p><p>BALLIACHE, Leonardo, <strong>Linux Queuing Disciplines</strong>. Disponível em: &lt;http://www.opalsoft.net/qos/DS.htm&gt;. Acesso em: 13 mar. 2010</p><p>CAMPOS, André L. N., <strong>Sistema de Segurança da Informação: Controlando os Riscos</strong>. ed. Florianópolis: Campus, 2006.</p><p>CARVALHO, Gustavo, <strong>Qualidade de Serviços para Gateways Linux (QoS)</strong>. Disponível em: &lt;http://www.vivaolinux.com.br/artigo/Qualidade-de-Servicos-para-Gateways-Linux-(QoS)&gt;. Acesso em: 13 mar. 2010</p><p>CHIAVENATO, I., <strong>Gestão de Pessoas: o novo papel dos recursos humanos nas organizações</strong>. ed. Rio de Janeiro: Campus, 1999.</p><p>CISCO, <strong>Networking Academy – Semestre 2 do CCNA v.2.1</strong>. 2000.</p><p>DAVENPORT, T. H. <strong>Ecologia da informação: por que só a tecnologia não basta para o sucesso na era da informação</strong>. ed. São Paulo : Futura, 1998</p><p>DUSSIN, Marco e FERRO, Nicola, <strong>The Role of the DIKW Hierarchy in the Design of a Digital Library System for the Scientific Data of Large-Scale Evaluation Campaigns.</strong> Disponível em: &lt;http://www.ieee-tcdl.org/Bulletin/v5n1/Dussin/dussin2.html&gt;. Acesso em: 13 mar. 2010.</p><p>FOLHA, <strong>Microsoft diz que o Windows é mais barato do que o Linux</strong>. Disponível em: &lt; http://www1.folha.uol.com.br/folha/informatica/ult124u11484.shtml&gt;. Acesso em: 13 mar. 2010.</p><p>ISO/IEC 13335-1:2004, <strong>Information technology — Security techniques — Management of information and communications technology security — Part 1: Concepts and models for information and communications technology security management</strong></p><p>JAKOBSON, Roman, <strong>Linguistica e Comunicação</strong>. ed. São Paulo: Cultrix, 2001.</p><p>KROAH-HARTMAN, Greg, <strong>Linux Kernel in a Nutshell</strong>, ed. Estados Unidos: O’Reilly, 2007.</p><p>MACEDO, Mariano de Matos, <strong>Gestão da produtividade nas empresas</strong>, ed. Curitiba: revista FAE Bussines n. 3 set, 2002.</p><p>MICHAELIS, Dicionário, <strong>Moderno Dicionário da Língua Portuguesa</strong>. Disponível em: &lt;http://michaelis.uol.com.br/ &gt;. Acesso em: 11 mar. 2010.</p><p>MOTA, J. E., <strong>Firewall com IPTABLES</strong>: Disponível em:  &lt;http://www.eriberto.pro.br/iptables/3.html&gt;. Acesso em: 13 mar. 2010.</p><p>NAKAMURA, Emilio Tissato e GEUS, Paulo Licio, <strong>Segurança de redes em ambientes cooperativos</strong>, ed. São Paulo: Futura, 2003.</p><p>PARKINSON, John, <strong>The Pursuit of Productivity</strong>, CIOInsight 01 abril, 2004.</p><p>ROBERTO, Gustavo, <strong>Implementando Iptables Layer 7 no Fedora Core 7 e 8</strong>. Disponível em: &lt; http://www.gustavoroberto.blog.br/2007/12/09/implementando-iptables-layer-7-no-fedora-core-7-e-8/&gt;. Acesso em: 13 mar. 2010.</p><p>SÊMOLA, Marcos, <strong>Gestão da Segurança da Informação: uma visão executiva</strong>. ed. Rio de Janeiro: Campus, 2003.</p><p>SETZER, Valdemar W., <strong>Dado, Informação, Conhecimento e Competência</strong>. Disponível em: &lt; http://www.ime.usp.br/~vwsetzer/dado-info.html &gt;. Acesso em: 13 mar. 2010.</p><p>WESSELS, Duane, Web Caching, ed. Estados Unidos: O’Reilly, 2001.</p><div></div><hr align="left" size="1" width="33%" /><div><p><a title="" href="file:///C:/Users/g0024485/Desktop/Publicar/TCC_Final.docx#_ftnref1">[1]</a> A informação é elemento essencial para todos os processos de negócio da organização, sendo, portanto, um bem ou ativo de grande valor. CAMPOS (2006, p. 9)</p></div><div><p><a title="" href="file:///C:/Users/g0024485/Desktop/Publicar/TCC_Final.docx#_ftnref2">[2]</a> Relação adaptada pelo autor, visando focar no objeto deste estudo, tendo como fonte CAMPOS (2006, p. 11 e 12)</p></div><div><p><a title="" href="file:///C:/Users/g0024485/Desktop/Publicar/TCC_Final.docx#_ftnref3">[3]</a> Este termo é patenteado pela Check Point Software Technologies Ltda.</p></div><div><p><a title="" href="file:///C:/Users/g0024485/Desktop/Publicar/TCC_Final.docx#_ftnref4">[4]</a> http://l7-filter.sourceforge.net</p></div><div><p><a title="" href="file:///C:/Users/g0024485/Desktop/Publicar/TCC_Final.docx#_ftnref5">[5]</a> Segue o link para download dos pacotes, Acesso em: 13 mar 2010:</p><p>http://www.kernel.org/pub/linux/kernel/v2.6/linux-2.6.23.tar.bz2</p><p>http://www.netfilter.org/projects/iptables/files/iptables-1.3.8.tar.bz2</p><p>http://ufpr.dl.sourceforge.net/sourceforge/l7-filter/l7-protocols-2007-11-22.tar.gz</p><p>http://ufpr.dl.sourceforge.net/project/l7-filter/l7-filter%20kernel%20version/2.14/netfilter-layer7-v2.14.tar.gz</p></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/artigos-acad%C3%AAmicos/'>Artigos acadêmicos</a>, <a href='/categories/seguran%C3%A7a-da-informa%C3%A7%C3%A3o/'>Segurança da Informação</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Clareza e produtividade na gestão do Firewall Aker 6.1 - Helvio Junior&url=https://www.helviojunior.com.br/it/security/clareza-e-produtividade-na-gestao-do-firewall-aker-6-1/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Clareza e produtividade na gestão do Firewall Aker 6.1 - Helvio Junior&u=https://www.helviojunior.com.br/it/security/clareza-e-produtividade-na-gestao-do-firewall-aker-6-1/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Clareza e produtividade na gestão do Firewall Aker 6.1 - Helvio Junior&url=https://www.helviojunior.com.br/it/security/clareza-e-produtividade-na-gestao-do-firewall-aker-6-1/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://www.helviojunior.com.br/it/security/clareza-e-produtividade-na-gestao-do-firewall-aker-6-1/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/security/osint/localizando-ips-que-respondem-para-uma-url/">Localizando IPs que respondem para uma URL</a><li><a href="/security/osint/locating-url-ips-bypass-waf/">Locating IPs that respond to a URL</a><li><a href="/security/edr/instalando-elasticsearch-edr/">Instalando Elasticsearch EDR</a><li><a href="/it/instalando-openvpn-com-autenticacao-em-mysql/">Instalando OpenVPN com autenticação em MySQL</a><li><a href="/it/osce-osed-e-ecxd-certificacoes-de-desenvolvimento-de-exploits/">OSCE, OSED e eCXD: Certificações de desenvolvimento de Exploits</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/offensive-security/">Offensive Security</a> <a class="post-tag" href="/tags/pentest/">Pentest</a> <a class="post-tag" href="/tags/autoridade-certificadora/">autoridade certificadora</a> <a class="post-tag" href="/tags/ca/">ca</a> <a class="post-tag" href="/tags/certificate-authority/">certificate authority</a> <a class="post-tag" href="/tags/openssl/">openssl</a> <a class="post-tag" href="/tags/osce3/">OSCE3</a> <a class="post-tag" href="/tags/buffer-overflow/">Buffer Overflow</a> <a class="post-tag" href="/tags/osed/">OSED</a> <a class="post-tag" href="/tags/osee/">OSEE</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/it/security/estabelecendo-vpn-site-to-site-ipsec-natt-openswan/"><div class="card-body"> <span class="timeago small" > Oct 29, 2014 <i class="unloaded">2014-10-29T23:54:57-02:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Estabelecendo VPN Site-to-site IPSEC com OpenSwan</h3><div class="text-muted small"><p> ﻿Neste post veremos passo a passo como configurar o OpenSwan para estabelecer uma VPN Site-to-site (entre 2 redes)  utilizando segredo compartilhado ou certificado digital. No decorrer do post expl...</p></div></div></a></div><div class="card"> <a href="/it/security/identificando-versao-do-windows-atraves-de-arquivos/"><div class="card-body"> <span class="timeago small" > Aug 1, 2018 <i class="unloaded">2018-08-01T20:44:19-03:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Identificando Versão do Windows através de arquivos</h3><div class="text-muted small"><p> Um dos desafios em um pentest é identificar a versão exata de um windows, então segue aqui algumas dicas de como faze-lo usando arquivos nativos do Sistema operacional. Este procedimento é dividido...</p></div></div></a></div><div class="card"> <a href="/it/security/minha-experiencia-no-oscp/"><div class="card-body"> <span class="timeago small" > Sep 20, 2018 <i class="unloaded">2018-09-20T22:11:41-03:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Minha experiência no OSCP</h3><div class="text-muted small"><p> No dia 16/09/2018 recebi o tão esperado e-mail “Você foi aprovado no OSCP”, então, como isso tudo começou? como foi o processo de estudo? estou começando em security posso fazer OSCP? Como foi faz...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <span class="btn btn-outline-primary disabled" prompt="Older"><p>-</p></span> <a href="/it/security/introducao-criptografia/" class="btn btn-outline-primary" prompt="Newer"><p>Introdução a Criptografia (Criptografia, hash, base64 encoding e certificação digital)</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'Clareza e produtividade na gestão do Firewall Aker 6.1'; this.page.url = 'https://www.helviojunior.com.br/it/security/clareza-e-produtividade-na-gestao-do-firewall-aker-6-1/'; this.page.identifier = '/it/security/clareza-e-produtividade-na-gestao-do-firewall-aker-6-1/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/helviojunior">Helvio junior (aka M4v3r1ck)</a>. <span data-toggle="tooltip" data-placement="top" title="Some rights reserved.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/offensive-security/">Offensive Security</a> <a class="post-tag" href="/tags/pentest/">Pentest</a> <a class="post-tag" href="/tags/autoridade-certificadora/">autoridade certificadora</a> <a class="post-tag" href="/tags/ca/">ca</a> <a class="post-tag" href="/tags/certificate-authority/">certificate authority</a> <a class="post-tag" href="/tags/openssl/">openssl</a> <a class="post-tag" href="/tags/osce3/">OSCE3</a> <a class="post-tag" href="/tags/buffer-overflow/">Buffer Overflow</a> <a class="post-tag" href="/tags/osed/">OSED</a> <a class="post-tag" href="/tags/osee/">OSEE</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://www.helviojunior.com.br{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
